{"version":3,"sources":["account/routeComponents/AccountInfo/index.module.scss","account/assets/default_avatar.png","account/config/const.js","account/routeComponents/AccountInfo/index.jsx"],"names":["module","exports","accountInfo","block","top","avator","alias","line","label","value","direct","desc","confirmBtn","UNKNOWN","BASIC","PLUS","PREMIUM","BUSINESS","SERVICE_LEVEL_NAME","_SERVICE_LEVEL_NAME","Object","defineProperty","CONNECT_STATUS","AccountInfo","state","avatarUrl","nickname","serviceLevel","mobile","email","wxNickname","createTime","openUnLoginDilog","ClyShowUnloginDialog","confirm","content","BIND_ALREADY","operates","text","CANCEL","onClick","ClyClickCancle","LOGIN","main","ClyClickLogin","redirectToServicesList","ClyClickAppAuthorization","_this","props","history","push","_this2","this","wechatSessionId","WechatUnificationService","GetConnectionStatus","then","data","toObject","status","ConnectWithProfile","Promise","resolve","GetYxUserInfo","setState","objectSpread","catch","e","console","warn","ClyEnterAccountInfoPage","_this$state","lines","ACCOUNT_TYPE","USER_NAME","PHONE_NUMBER","EMAIL","WECHAT","REGISTE_TIME","_react_16_8_5_react_default","a","createElement","className","styles","concat","src","defaultAvator","alt","map","_ref","index","key","AUTHORIZE_SERVICES","Component","connect","setWechatJsReady"],"mappings":"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","file":"static/js/AccountInfo.6566de59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"accountInfo\":\"AccountInfo_accountInfo__b-cWF\",\"block\":\"AccountInfo_block__3DpV3\",\"top\":\"AccountInfo_top__U94zH\",\"avator\":\"AccountInfo_avator__2N4J_\",\"alias\":\"AccountInfo_alias__3Yu0A\",\"line\":\"AccountInfo_line__1kbio\",\"label\":\"AccountInfo_label__2VC5B\",\"value\":\"AccountInfo_value__3s8Lg\",\"direct\":\"AccountInfo_direct__1641n\",\"desc\":\"AccountInfo_desc__2VSoQ\",\"confirmBtn\":\"AccountInfo_confirmBtn__W8pWb\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABeCAMAAACdDFNcAAACAVBMVEVHcEz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////r6+vN09X+/v7x8fHs7Oz9/f3u7u76+vr4+Pjt7e38/Pzv7+/19fX39/f29vbz8/P5+fnO1Nb7+/vQ1dfT2NrR1tjy8vLU2NrT2Nnn6Oje4eLj5eXo6enZ3d7q6urS19nk5ebw8PDV2dvj5OXW2tvf4eLO1NXc3+DV2tvi5OTo6Onk5ubb3t/i5OXl5ufT19n09PTS19jP1dfP1Nbg4+T29/ft7u/b39/q6uvU2dre4eHl6OnZ3N7Y3N3U2dvW293m5+fz9PTf4uPl5+jb3+Dn6Onv8fHj5ufw8vLq7O3r7e7n6uvp6urg4+Pt8PHg4uPp6erX29zl5ubX2tza3d/Q1tja3d7h4+Tm5+jg5OXx8vPW2tzo6OjV2drn5+j4+fne4uPV2tzX3N3a3t/f4+T3+Pjt7/Dp6en8/f3b3uDu8PD19vbO09Xt7u7k5eXd4OHe4OHv8PHo6er5+vrY3d7Z3d/R19jP1dbu7/Dp7Ozq7e3z9fXn6urm6erp6+wCIH3mAAAAK3RSTlMAdx70r28FNfnWrv6w/RUtpvoQbsvb5zDwQCl9v/h8CXZDbYMEWiVGIvcj4lzQDwAABZ9JREFUaN61mvVf3EgYh0NLcVqkWJHiNplkkzXW2IWyWHFp0VLotde7q+t5z93d3f/Km2SzSWYzMzH6/Q0+5MnwzjvvvBKOc6je/oG+7s6Ojs7uvoH+Xu4Qdbqrp7i8DJhUVl7c03X6MNinWtvaAVHtba2n/LGP15/Mw4RIMhSLj4zEY6FkRMj/9mT9cc/wEzW1OfJoXJR5TLIYH829o7bmhCd4aVW1yg6JAZ6ogBhS31BdVeoafqSiUmEHxyls7Q3jQeUNlRVHXMFLio6qC5d5W8nqv3C0qMSFXcoVeMwBXH1BTHlBuWMLHVN8PBjlHSsaVM7CMUfwumL0t1KCd6WEhB4qrrOnDzYoSw/zLhVW/oGGQTt6UyOy+gjvQSNoBxqb2PSWZkQXeU8SEb+5hUkfQmaP8h4VRRswxOA3obVHZN6z5AhaP9U+w8jukTDvQ2HEb6Tsbx3yGUnmfUlG9mkg+yfydyHK+1QU7W8x8aza+sy1KzNL7y7NLGft/IdwfktRJGD6+/oEzOvyFMv/UXywxJ8SFMWCjIfeOwPNWjtH/1N0fssL42cR2laG0yzuQVzp83T3QdtbVHB7oPjOiGKL0KIVOj+B4j9+v1QwTbOVsuJhOssyTwW2r5Usn3xiApK0xvLOSvPuVgEQoy/+BUjWJvWJGABVpoyjGgiM4zpGwU/QD68Aqo38pAaAEJ0+B2l6g/pMCIAaPRerZS5+g4qfZC2/Np+/1Re4TVjcScwbPy5R8U8xz1a9hkd55LgJnsu9jMt8m4pfoOPHUf6p5cAolgWwkJpTyGZnITzDyN/QGnP5c6t5YwOSkWGP+MArm9uq4tsAEM3xTpcQ9oEXAWhTa492s20kc4EgKJKe9oRH1mlX6pcuAEaNfSVUId7w/CgAXQjfA0Ccic9Q8duzDHwcgJ7cFStiG47r0w8hXennmMZXLl10TWlHNpxIJKQC+hdnIVP0a1FGlxaqV8uAkPt5XiBY5jM2HW7Qly+Asl6uH6VOuqda9aQNflVfbLTwLkUpVT83AEBS3wv3+OWcWdUCJbKD4ZMADHB9+pkNBAnWeWCD38rnNqpGw/i57eO6TRdVwKppNn0sn5lpigSwK6ub6zS7PUEvMfE3tANUGKc0Y3dyHTbJ2TTLM99MIgXNxpSwdK3DFs8/e4kGf/V5gi9EcbydcZBWKfi3SK42jxunm5mDqJol5zmfENswUXxr+5hZQk6bRPz7JLoQlWWzYxrHiiHS8j8ANEnzxrEyggJDVwj4e1S8dn+oQcEIaQy9Y6WnJDo+YoQ0U0BmKG3Bf0SnC+NGQMavE5oWLPgZkaqw+TrpsXd8nn9kwV+1e0S7DLGrnKa33SSA2FWOJyIUZdwkgFgigqdRZJ2zVj970zb9ES2NwpNAos6TErXdOeYzehKIp7DWlS9fpoS0zGTWQQpbkICb9eL6K+xEZPe116dtEnBL+aDVg3OXMtCJtjfmZlnlA6n42ZpJQ+dKX32ZXvxYS7fNDHSrzDqtdCssPLNr0IsWspTCEy+bp1LQm1JT5LIZK/oXV6BXrUyRi35Ty2L6AvSu9OfEloWp4TID/ehjcsNFbxfNpnzhL8wS20V6s2sR+tN35GZXvlX3g0/8MrlVl280rvrEf09pNGptUr/4m7Q2aa7Je9vf1l6kN3m5QaVFfc0Pf5LRotYa7NmUL3pzk8144Kc9H5YZarEdbny76wX+zW3b4YY2mtlZ8nBev3IwmuG4YXWwNOmW/sy+MlgadjoWO5hwFelvOh2L6UO9iy6W/rXzoZ4+krx+y+Ete+BuJKkPVK9/aQ8/e9/1QNUYB+/fHWPCb/3oZRxsHmbfuUFJ1FZ+efiz12E2Norfvz+59juG/u3Xu3ckX6P4wg8JkvcO/vrvn38f/vngj7+lw/iQ4LF/BvH4P+Lw9wnK/6cxzRxoBkeoAAAAAElFTkSuQmCC\"","export const LOGIN_TYPE = {\n  NORMAL: 2, // 数字与后端定义的保持一致\n  WECHAT: 3,\n};\n\nexport const DEFAULT_NICKNAME = '印象用户';\n\nexport const PLATFORM = {\n  IOS: 'ios',\n  ANDROID: 'android',\n  LIGHTBOX: 'lightbox',\n  WEB: 'web',\n};\n\nexport const WECHAT_BIND_FORCE_SWITCH = {\n  OPEN: '1',\n  CLOSE: '0',\n};\n\nconst SERVICE_LEVEL = {\n  UNKNOWN: 0,\n  BASIC: 1,\n  PLUS: 2,\n  PREMIUM: 3,\n  BUSINESS: 4,\n}\n\nconst { UNKNOWN, BASIC, PLUS, PREMIUM, BUSINESS } = SERVICE_LEVEL;\n\nexport const SERVICE_LEVEL_NAME = {\n  [UNKNOWN]: '未知',\n  [BASIC]: '印象笔记免费帐户',\n  [PLUS]: '印象笔记标准帐户',\n  [PREMIUM]: '印象笔记高级帐户',\n  [BUSINESS]: '印象笔记企业帐户',\n}\n\nexport const CONNECT_STATUS = {\n  NO_PROFILE_NO_OPENAPI: 0,\n  NO_PROFILE_SINGLE_OPENAPI: 1,\n  SINGLE_PROFILE_NO_OPENAPI: 2,\n  SINGLE_PROFILE_SINGLE_OPENAPI_SAME: 3,\n  SINGLE_PROFILE_SINGLE_OPENAPI_DIFFERENT: 4,\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { \n    ACCOUNT_TYPE,\n    USER_NAME,\n    PHONE_NUMBER,\n    EMAIL,\n    WECHAT,\n    REGISTE_TIME,\n    AUTHORIZE_SERVICES,\n    CANCEL,\n    LOGIN,\n    BIND_ALREADY,\n} from '../../config/copywriting';\nimport {\n    SERVICE_LEVEL_NAME,\n} from '../../config/const';\nimport {\n    CONNECT_STATUS,\n} from '../../config/const';\nimport {\n    ClyEnterAccountInfoPage,\n    ClyClickAppAuthorization,\n    ClyShowUnloginDialog,\n    ClyClickLogin,\n    ClyClickCancle,\n} from '../../countly/countlyPoints';\nimport WechatUnificationService from '../../service/WechatUnificationService';\n\nimport confirm from '../../components/Confirm/Confirm';\n\nimport styles from './index.module.scss';\n\nimport defaultAvator from '../../assets/default_avatar.png';\n\nclass AccountInfo extends Component {\n\n    state = {\n        avatarUrl: '',\n        nickname: '-',\n        serviceLevel: '',\n        mobile: '',\n        email: '',\n        wxNickname: '',\n        createTime: '',\n    }\n\n    componentWillReceiveProps() {\n        const { wechatSessionId } = this.props;\n        if (wechatSessionId) {\n            WechatUnificationService.GetConnectionStatus(wechatSessionId)\n                .then((data) => {\n                    const { status } = data.toObject();\n                    if (status === CONNECT_STATUS.SINGLE_PROFILE_NO_OPENAPI) {\n                        return WechatUnificationService.ConnectWithProfile(wechatSessionId)\n                    } else {\n                        return Promise.resolve();\n                    }\n                })\n                .then(() => {\n                    return WechatUnificationService.GetYxUserInfo(wechatSessionId);\n                })\n                .then((data) => {\n                    this.setState({ ...data.toObject() });\n                })\n                .catch((e) => {\n                    console.warn(e);\n                });\n        }\n    }\n\n    componentDidMount() {  \n        ClyEnterAccountInfoPage();      \n    }\n\n    openUnLoginDilog = () => {\n        ClyShowUnloginDialog();\n        confirm({\n            content: BIND_ALREADY,\n            operates: [{\n              text: CANCEL,\n              onClick: ClyClickCancle,\n            },\n            {\n              text: LOGIN,\n              main: true,\n              onClick: () => {\n                ClyClickLogin();\n                // todo change status\n              }\n            }]\n          })\n    }\n\n    redirectToServicesList = () => {\n        ClyClickAppAuthorization();\n        this.props.history.push('/service-list');\n    }\n\n    render() {\n        const { avatarUrl, nickname, serviceLevel,\n                mobile, email, wxNickname, createTime,\n        } = this.state;\n        const lines = [\n            {\n                label: ACCOUNT_TYPE,\n                value: SERVICE_LEVEL_NAME[serviceLevel],\n            },\n            {\n                label: USER_NAME,\n                value: nickname,\n            },\n            {\n                label: PHONE_NUMBER,\n                value: mobile,\n            },\n            {\n                label: EMAIL,\n                value: email,\n            },\n            {\n                label: WECHAT,\n                value: wxNickname,\n            },\n            {\n                label: REGISTE_TIME,\n                value: createTime,\n            }\n        ];\n        return (\n            <div className={styles.accountInfo}>\n                <div className={`${styles.block} ${styles.top}`}>\n                    <div className={styles.avator}>\n                        <img src={avatarUrl || defaultAvator} alt=\"\"></img>\n                    </div>\n                    <div className={styles.alias}>{nickname}</div>\n                </div>\n                <div className={styles.block}>\n                    {lines.map(({ label, value }, index) => {\n                        return (\n                            <div className={styles.line} key={index}>\n                                <div className={styles.label}>{label}</div>\n                                <div className={styles.value}>{value}</div>\n                            </div>\n                        )\n                    })}\n                </div>\n                <div className={styles.block}>\n                    <div className={styles.line} onClick={this.redirectToServicesList}>\n                        <div className={styles.label}>{AUTHORIZE_SERVICES}</div>\n                        <div className={styles.value}>\n                            <div className={styles.direct}></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        wechatSessionId: state.wechatSessionId,\n        setWechatJsReady: state.setWechatJsReady,\n    };\n};\n  \nexport default connect(\n    mapStateToProps,\n)(AccountInfo);\n"],"sourceRoot":""}