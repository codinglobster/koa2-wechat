{"version":3,"sources":["lark/utils/commonUtils.js","lark/components/BasicInput/index.module.scss","lark/components/DisableAccountTip/index.module.scss","lark/routeComponents/LarkYXLogin/index.module.scss","lark/components/BasicInput/index.js","lark/components/DisableAccountTip/index.js","lark/components/LoginAccountInput/index.js","lark/components/LoginPasswordInput/index.js","lark/routeComponents/LarkYXLogin/index.js"],"names":["__webpack_require__","d","__webpack_exports__","getUrlParams","checkDevice","key","url","window","location","href","paramsObj","replace","_len","arguments","length","arr","Array","_key","value","hasOwnProperty","decodeURIComponent","ua","navigator","userAgent","downloadInfo","match","device","module","exports","wrapper","inputWrapper","input","tipIcon","default","error","warning","correct","hide","tipText","reactivateLink","page","loginContainer","loginTitle","accountInputWrapper","passwordInputWrapper","buttonWrapper","loginButton","disabled","BasicInput","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","nextProps","nextValue","setState","ev","onChange","target","level","keys","styles","find","item","indexOf","_this$props","children","inputType","inputName","tipLevel","placeHolder","showTipIcon","onFocus","_react_16_8_5_react_default","a","createElement","className","type","name","placeholder","bind","concat","getClassByLevel","Component","defaultProps","TIP_LEVEL_MAP","DEFAULT","DisableAccountTip","copywritingList","copywritingHelper","ACCOUNT_WAS_DISABLED","account","map","index","text","REACTIVATION_URL","ERROR","ACCOUNT","INPUT_TYPE_MAP","LoginAccountInput","verifyTip","resetInput","params","promise","_this2","accountWasDisableHooks","accountNotExistedHooks","identity","checkIdentity","get","REGISTRATION_CHECK","then","Promise","reject","catch","data","status","getValue","components_DisableAccountTip","COMMON_ERROR_TIPS","ACCOUNT_NOT_EXISTED","THIS_ITEM_MUST_BE_FILLED_IN","finally","_this$state","loginAccountInput","components_BasicInput","INPUT_ACCOUNT","PASSWORD","LoginPasswordInput","password","loginPasswordInput","INPUT_PASSWORD","INPUT_DEFAULT","LarkYXLogin","accountTipLevel","accountVerifyTip","passwordTipLevel","passwordVerifyTip","requesting","onAccountInputChange","_ref","onPasswordInputChange","_ref2","accountWasDisable","ga","accountNotExisted","handleLogin","history","setTipStatus","post","LARK_VERIFY_CREDENTIAL","platform","LARK_PLATFORM","needSignature","success","code","authToken","userName","loginKey","loginSecret","SUCCESS_CODE","USER_OR_PWD_ERROR_CODE","tip","USER_OR_PWD_ERROR","isTipShow","TOO_MANY_REQS_ERROR_CODE","TOO_MANY_REQS_ERROR","USER_OR_PWD_EMPTY_ERROR_CODE","USER_OR_PWD_EMPTY","localStorage","setItem","push","handleBack","goBack","document","onkeydown","e","keyCode","_this$state2","Header","LOGIN_AUTH_LARK","components_LoginAccountInput","ref","components_LoginPasswordInput","BasicButton","LOGIN_ACCOUNT_TO_BIND","buttonWrapperClass","onClick","loading","CANCEL","BasicModal","connect","objectSpread","actions"],"mappings":"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","file":"static/js/19.d32d0094.chunk.js","sourcesContent":["import React from 'react';\n\nconst transformObjectToArray = (obj) => {\n  return Object.keys(obj).map(key => obj[key]);\n};\n\nconst getUrlParams = (key, url) => {\n  url = url || window.location.href;\n  const paramsReg = /[?&]([^?&=]+)(?:=([^?&=]*))?/g;\n  const paramsObj = {};\n  url.replace(paramsReg, (...arr) => {\n    const [, key, value] = arr;\n    paramsObj[key] = value;\n  });\n  if (key) {\n    return paramsObj.hasOwnProperty(key) ? decodeURIComponent(paramsObj[key].replace(/\\+/g, ' ')) : '';\n  }\n  return paramsObj;\n}\n\nconst checkDevice = () => {\n  const ua = navigator.userAgent;\n  let downloadInfo = {};\n  if (ua.match(/(iPhone|iPod|iPad)/)) {\n    downloadInfo.device = 'iOS';\n    downloadInfo.url = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.yinxiang&ckey=CK1421937581227';\n  } else if (ua.match(/Android/)) {\n    downloadInfo.device = 'Android';\n    downloadInfo.url = 'http://a.app.qq.com/o/simple.jsp?pkgname=com.yinxiang&ckey=CK1421937581227';\n  } else if (ua.match(/Windows/)) {\n    downloadInfo.device = 'Windows';\n    downloadInfo.url = 'https://cdn-dl.yinxiang.com/YXWin6/public/Evernote_lark_latest.exe';\n  } else if (ua.match(/Macintosh/)) {\n    downloadInfo.device = 'Mac';\n    downloadInfo.url = 'https://www.yinxiang.com/download/get.php?file=EvernoteMac';\n  }\n  return downloadInfo;\n}\n\nexport {\n  transformObjectToArray,\n  getUrlParams,\n  checkDevice,\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BasicInput_wrapper__YTixy\",\"inputWrapper\":\"BasicInput_inputWrapper__2Iuoy\",\"input\":\"BasicInput_input__3yf0i\",\"tipIcon\":\"BasicInput_tipIcon__-taql\",\"default\":\"BasicInput_default__2jZz1\",\"error\":\"BasicInput_error__2Hi2A\",\"warning\":\"BasicInput_warning__2l30R\",\"correct\":\"BasicInput_correct__1SAau\",\"hide\":\"BasicInput_hide__14TlK\",\"tipText\":\"BasicInput_tipText__3fVWH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reactivateLink\":\"DisableAccountTip_reactivateLink__2IHyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"LarkYXLogin_page__25AV0\",\"loginContainer\":\"LarkYXLogin_loginContainer__18Tyf\",\"loginTitle\":\"LarkYXLogin_loginTitle__2PJpw\",\"accountInputWrapper\":\"LarkYXLogin_accountInputWrapper__2qRAZ\",\"passwordInputWrapper\":\"LarkYXLogin_passwordInputWrapper__-YHUB\",\"buttonWrapper\":\"LarkYXLogin_buttonWrapper__2CNQU\",\"loginButton\":\"LarkYXLogin_loginButton__3TMrP\",\"disabled\":\"LarkYXLogin_disabled__3u-5P\"};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {TIP_LEVEL_MAP} from '../../config/propsPermittedValueMap';\nimport {transformObjectToArray} from '../../utils/commonUtils';\n\nimport styles from './index.module.scss';\n\nconst LEVEL_LIST = transformObjectToArray(TIP_LEVEL_MAP);\n\nclass BasicInput extends Component {\n  static propTypes = {\n    inputType: PropTypes.string,\n    inputName: PropTypes.string,\n    tipLevel: PropTypes.oneOf(LEVEL_LIST),\n    showTipIcon: PropTypes.bool,\n    placeHolder: PropTypes.string.isRequired,\n    children: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    onFocus: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.string,\n  };\n  static defaultProps = {\n    inputType: 'text',\n    inputName: '',\n    tipLevel: TIP_LEVEL_MAP.DEFAULT,\n    showTipIcon: true,\n    value: '',\n    onFocus: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {value} = this.props;\n    const {value: nextValue} = nextProps;\n    if (nextValue !== value) {\n      this.setState({\n        value: nextValue,\n      });\n    }\n  }\n\n  onChange(ev) {\n    const {onChange} = this.props;\n    const {target: {value}} = ev;\n    this.setState({\n      value,\n    });\n    onChange(ev);\n  }\n\n  getClassByLevel(level) {\n    let key;\n    key = Object.keys(styles).find(item => item.indexOf(level) > -1);\n    return styles[key];\n  }\n\n  render() {\n    const {value} = this.state;\n    const {children, inputType, inputName, tipLevel, placeHolder, showTipIcon, onFocus} = this.props;\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.inputWrapper}>\n          <input className={styles.input}\n                 type={inputType}\n                 name={inputName}\n                 value={value}\n                 placeholder={placeHolder}\n                 onFocus={onFocus}\n                 onChange={this.onChange.bind(this)}/>\n          <span className={`${styles.tipIcon} ${this.getClassByLevel(tipLevel)} ${showTipIcon ? '' : styles.hide}`}>\n          </span>\n        </div>\n        <p className={`${styles.tipText} ${this.getClassByLevel(tipLevel)}`}>\n          {children}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport default BasicInput;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {ACCOUNT_WAS_DISABLED} from '../../config/copyWriting';\nimport {REACTIVATION_URL} from '../../config/pageUrl';\nimport copywritingHelper from '../../utils/copywritingHelper';\n\nimport styles from './index.module.scss';\n\nconst DisableAccountTip = (props) => {\n  const copywritingList = copywritingHelper(ACCOUNT_WAS_DISABLED);\n  const {account} = props;\n  return (\n    <span>\n      {\n        copywritingList.map((item, index) => {\n          let text = '';\n          switch (index) {\n            case 1:\n              text = account;\n              break;\n            case 3:\n              text = <a className={styles.reactivateLink} href={REACTIVATION_URL} key={index}>{item}</a>;\n              break;\n            default:\n              text = item;\n          }\n          return text;\n        })\n      }\n    </span>\n  )\n};\n\nDisableAccountTip.propTypes = {\n  account: PropTypes.string.isRequired,\n};\n\nexport default DisableAccountTip;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {get} from 'axios';\nimport {get as getValue} from 'lodash-es';\nimport BasicInput from '../BasicInput';\nimport DisableAccountTip from '../DisableAccountTip';\nimport {transformObjectToArray} from '../../utils/commonUtils';\nimport {INPUT_TYPE_MAP, TIP_LEVEL_MAP} from '../../config/propsPermittedValueMap';\nimport {\n  COMMON_ERROR_TIPS,\n  INPUT_ACCOUNT,\n  THIS_ITEM_MUST_BE_FILLED_IN,\n  ACCOUNT_NOT_EXISTED,\n} from '../../config/copyWriting';\nimport {REGISTRATION_CHECK} from '../../config/interfaceUrl';\n\nimport styles from './index.module.scss';\n\nconst LEVEL_LIST = transformObjectToArray(TIP_LEVEL_MAP);\nconst INPUT_TYPE_LIST = transformObjectToArray(INPUT_TYPE_MAP);\nconst {DEFAULT, ERROR} = TIP_LEVEL_MAP;\nconst {ACCOUNT} = INPUT_TYPE_MAP;\n\nclass LoginAccountInput extends Component {\n  static propTypes = {\n    account: PropTypes.string,\n    resetInput: PropTypes.bool,\n    verifyTip: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    tipLevel: PropTypes.oneOf(LEVEL_LIST),\n    inputType: PropTypes.oneOf(INPUT_TYPE_LIST),\n    onChange: PropTypes.func,\n    accountWasDisableHooks: PropTypes.func,\n    accountNotExistedHooks: PropTypes.func,\n  };\n\n  static defaultProps = {\n    account: '',\n    resetInput: false,\n    onChange: () => {},\n    accountWasDisableHooks: () => {},\n    accountNotExistedHooks: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: '',\n      tipLevel: DEFAULT,\n      verifyTip: '',\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {verifyTip, tipLevel, inputType, account, resetInput} = nextProps;\n    if (inputType === ACCOUNT) {\n      this.setState({\n        verifyTip,\n        tipLevel,\n      });\n    }\n    if(resetInput){\n      this.setState({\n        account,\n      });\n    }\n  }\n\n  onFocus() {\n    this.setState({\n      tipLevel: DEFAULT,\n      verifyTip: '',\n    });\n  }\n\n  onChange(ev) {\n    const {target: {value}} = ev;\n    const {onChange} = this.props;\n    this.setState({\n      account: value,\n    });\n    onChange(ev);\n  }\n\n  verifyInput() {\n    const {account} = this.state;\n    const {accountWasDisableHooks, accountNotExistedHooks} = this.props;\n    let verifyTip = '';\n    let tipLevel = '';\n    let params;\n    let promise;\n    if (!account) {\n      tipLevel = ERROR;\n      verifyTip = THIS_ITEM_MUST_BE_FILLED_IN;\n      promise = Promise.reject();\n    } else {\n      params = {\n        identity: account,\n        checkIdentity: '',\n      };\n      promise = get(REGISTRATION_CHECK, {\n        params,\n      }).then(() => {\n        // 此情况说明帐户不存在\n        accountNotExistedHooks();\n        return Promise.reject();\n      }).catch(data => {\n        const status = getValue(data, 'response.status');\n        if (!data) {\n          tipLevel = ERROR;\n          verifyTip = ACCOUNT_NOT_EXISTED;\n        } else {\n          switch (status) {\n            case 409:\n              tipLevel = DEFAULT;\n              verifyTip = '';\n              break;\n            case 412:\n              tipLevel = ERROR;\n              verifyTip = <DisableAccountTip account={account}/>;\n              accountWasDisableHooks();\n              break;\n            default:\n              tipLevel = ERROR;\n              verifyTip = COMMON_ERROR_TIPS;\n              break;\n          }\n        }\n        if (tipLevel === DEFAULT) {\n          return account;\n        } else {\n          return Promise.reject();\n        }\n      });\n    }\n    return promise.finally(() => {\n      this.setState({\n        verifyTip,\n        tipLevel,\n      });\n    });\n  }\n\n  render() {\n    const {tipLevel, verifyTip, account} = this.state;\n    return (\n      <div className={styles.loginAccountInput}>\n        <BasicInput placeHolder={INPUT_ACCOUNT}\n                    tipLevel={tipLevel}\n                    value={account}\n                    onFocus={this.onFocus.bind(this)}\n                    onChange={this.onChange.bind(this)}>\n          {verifyTip}\n        </BasicInput>\n      </div>\n    )\n  }\n}\n\nexport default LoginAccountInput;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport BasicInput from '../BasicInput';\nimport {transformObjectToArray} from '../../utils/commonUtils';\nimport {INPUT_TYPE_MAP, TIP_LEVEL_MAP} from '../../config/propsPermittedValueMap';\nimport {\n  THIS_ITEM_MUST_BE_FILLED_IN,\n  INPUT_PASSWORD,\n} from '../../config/copyWriting';\n\nimport styles from './index.module.scss';\n\nconst LEVEL_LIST = transformObjectToArray(TIP_LEVEL_MAP);\nconst INPUT_TYPE_LIST = transformObjectToArray(INPUT_TYPE_MAP);\nconst {DEFAULT, ERROR} = TIP_LEVEL_MAP;\nconst {PASSWORD} = INPUT_TYPE_MAP;\n\nclass LoginPasswordInput extends Component {\n  static propTypes = {\n    password: PropTypes.string,\n    resetInput: PropTypes.bool,\n    verifyTip: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    tipLevel: PropTypes.oneOf(LEVEL_LIST),\n    inputType: PropTypes.oneOf(INPUT_TYPE_LIST),\n    onChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    password: '',\n    resetInput: false,\n    onChange: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: '',\n      tipLevel: DEFAULT,\n      verifyTip: '',\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {verifyTip, tipLevel, inputType, password, resetInput} = nextProps;\n    if (inputType === PASSWORD) {\n      this.setState({\n        verifyTip,\n        tipLevel,\n      });\n    }\n    if(resetInput){\n      this.setState({\n        password,\n      });\n    }\n  }\n\n  onFocus() {\n    this.setState({\n      tipLevel: DEFAULT,\n      verifyTip: '',\n    });\n  }\n\n  onChange(ev) {\n    const {target: {value}} = ev;\n    const {onChange} = this.props;\n    this.setState({\n      password: value,\n    });\n    onChange(ev);\n  }\n\n  verifyInput() {\n    const {password} = this.state;\n    if (!password) {\n      this.setState({\n        verifyTip: THIS_ITEM_MUST_BE_FILLED_IN,\n        tipLevel: ERROR,\n      });\n      return Promise.reject();\n    } else {\n      return password;\n    }\n  }\n\n  render() {\n    const {tipLevel, verifyTip, password} = this.state;\n    return (\n      <div className={styles.loginPasswordInput}>\n        <BasicInput placeHolder={INPUT_PASSWORD}\n                    tipLevel={tipLevel}\n                    value={password}\n                    inputType=\"password\"\n                    onFocus={this.onFocus.bind(this)}\n                    onChange={this.onChange.bind(this)}>\n          {verifyTip}\n        </BasicInput>\n      </div>\n    )\n  }\n}\n\nexport default LoginPasswordInput;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {post} from 'axios';\nimport {get as getValue} from 'lodash-es';\n\nimport LoginAccountInput from '../../components/LoginAccountInput';\nimport LoginPasswordInput from '../../components/LoginPasswordInput';\nimport BasicButton from '../../components/BasicButton';\nimport BasicModal from '../../components/BasicModal';\nimport Header from '../../components/Header';\n\nimport {\n  LOGIN_ACCOUNT_TO_BIND,\n  USER_OR_PWD_ERROR,\n  TOO_MANY_REQS_ERROR,\n  USER_OR_PWD_EMPTY,\n  LOGIN_AUTH_LARK,\n  COMMON_ERROR_TIPS,\n  CANCEL,\n} from '../../config/copyWriting';\nimport {\n  SUCCESS_CODE,\n  USER_OR_PWD_ERROR_CODE,\n  TOO_MANY_REQS_ERROR_CODE,\n  USER_OR_PWD_EMPTY_ERROR_CODE,\n} from '../../config/interfaceResCode';\nimport {LARK_VERIFY_CREDENTIAL} from '../../config/interfaceUrl';\nimport {LARK_PLATFORM} from '../../config/interfaceParam';\nimport {TIP_LEVEL_MAP, INPUT_TYPE_MAP} from '../../config/propsPermittedValueMap';\nimport * as actions from '../../store/actions';\n\nimport styles from './index.module.scss';\n\nconst {DEFAULT} = TIP_LEVEL_MAP;\nconst {DEFAULT: INPUT_DEFAULT} = INPUT_TYPE_MAP;\n\nclass LarkYXLogin extends Component {\n  state = {\n    account: '',\n    accountTipLevel: DEFAULT,\n    accountVerifyTip: '',\n    password: '',\n    passwordTipLevel: DEFAULT,\n    passwordVerifyTip: '',\n    inputType: INPUT_DEFAULT,\n    requesting: false,\n    resetInput: false,\n  };\n\n  componentDidMount() {\n    document.onkeydown = (e) => {\n      if (e.keyCode === 13) {\n        this.handleLogin();\n      }\n    }\n  }\n\n  onAccountInputChange = ({target: {value}}) => {\n    this.setState({\n      account: value,\n    });\n  }\n\n  onPasswordInputChange = ({target: {value}}) => {\n    this.setState({\n      password: value,\n    });\n  }\n\n  accountWasDisable = () => {\n    window.ga('send', 'event', 'account_login', 'show_wechat_login_dialog', 'account_deactived'); // GA-绑定已有帐户页面出现帐户已停用的提示\n  }\n\n  accountNotExisted = () => {\n    window.ga('send', 'event', 'account_login', 'show_wechat_login_dialog', 'username_not_found'); // GA-绑定已有帐户页面出现未找到帐户的提示\n  }\n\n  handleLogin = () => {\n    const {history, setTipStatus} = this.props;\n    const {account, password} = this.state;\n    if (!account || !password) {\n      setTipStatus({tip: USER_OR_PWD_EMPTY, isTipShow: true});\n      return;\n    }\n    this.setState({\n      requesting: true,\n    });\n    post(LARK_VERIFY_CREDENTIAL, {\n      identity: account,\n      password,\n      platform: LARK_PLATFORM,\n    }, {\n      needSignature: true,\n    }).then(data => {\n      const code = getValue(data, 'data.code');\n      const authToken = getValue(data, 'data.content.authToken');\n      const userName = getValue(data, 'data.content.yxName');\n      const loginKey = getValue(data, 'data.content.loginKey');\n      const loginSecret = getValue(data, 'data.content.loginSecret');\n      let success;\n      switch (code) {\n        case SUCCESS_CODE:\n          success = !!authToken; // 确保接口的确返回了 authToken, 有 authToken 才算成功\n          break;\n        case USER_OR_PWD_ERROR_CODE:\n          setTipStatus({tip: USER_OR_PWD_ERROR, isTipShow: true});\n          success = false;\n          break;\n        case TOO_MANY_REQS_ERROR_CODE:\n          setTipStatus({tip: TOO_MANY_REQS_ERROR, isTipShow: true});\n          success = false;\n          break;\n        case USER_OR_PWD_EMPTY_ERROR_CODE:\n          setTipStatus({tip: USER_OR_PWD_EMPTY, isTipShow: true});\n          success = false;\n          break;\n        default:\n          setTipStatus({tip: COMMON_ERROR_TIPS, isTipShow: true});\n          success = false;\n      }\n      if (success) {\n        return {authToken, userName, loginKey, loginSecret};\n      } else {\n        return Promise.reject();\n      }\n    }).then((data) => {\n      localStorage.setItem('authToken', data.authToken);\n      localStorage.setItem('userName', data.userName);\n      localStorage.setItem('loginKey', data.loginKey);\n      localStorage.setItem('loginSecret', data.loginSecret);\n      history.push('/yx-authorize');\n    }).finally(() => {\n      this.setState({\n        requesting: false,\n      });\n    });\n  }\n\n  handleBack = () => {\n    const {history}  = this.props;\n    history.goBack();\n  }\n\n  render() {\n    const {\n      account,\n      password,\n      accountTipLevel,\n      accountVerifyTip,\n      passwordTipLevel,\n      passwordVerifyTip,\n      requesting,\n      inputType,\n      resetInput,\n    } = this.state;\n\n    return (\n      <div className={styles.page}>\n        <Header/>\n        <div className={styles.loginContainer}>\n          <p className={styles.loginTitle}>{LOGIN_AUTH_LARK}</p>\n          <div className={styles.accountInputWrapper}>\n            <LoginAccountInput ref=\"accountInput\"\n                               tipLevel={accountTipLevel}\n                               verifyTip={accountVerifyTip}\n                               inputType={inputType}\n                               account={account}\n                               accountWasDisableHooks={this.accountWasDisable}\n                               accountNotExistedHooks={this.accountNotExisted}\n                               onChange={this.onAccountInputChange}\n                               resetInput={resetInput}\n            />\n          </div>\n          <div className={styles.passwordInputWrapper}>\n            <LoginPasswordInput ref=\"passwordInput\"\n                                tipLevel={passwordTipLevel}\n                                verifyTip={passwordVerifyTip}\n                                inputType={inputType}\n                                password={password}\n                                onChange={this.onPasswordInputChange}\n                                resetInput={resetInput}\n            />\n          </div>\n          <div className={styles.buttonWrapper}>\n            <BasicButton text={LOGIN_ACCOUNT_TO_BIND}\n                         buttonWrapperClass={styles.loginButton}\n                         onClick={this.handleLogin}\n                         loading={requesting}\n            />\n            <BasicButton text={CANCEL}\n                         buttonWrapperClass={styles.disabled}\n                         onClick={this.handleBack}\n            />\n          </div>\n        </div>\n        <BasicModal />\n      </div>\n    )\n  }\n}\n\nexport default connect((state) => ({...state}), actions)(LarkYXLogin);\n"],"sourceRoot":""}