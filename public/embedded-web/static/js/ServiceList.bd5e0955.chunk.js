(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{595:function(e,t,c){"use strict";c.d(t,"c",function(){return _}),c.d(t,"b",function(){return v}),c.d(t,"a",function(){return d});var n,i=c(193),a=0,o=1,r=2,s=3,l=4,_=(n={},Object(i.a)(n,a,"\u672a\u77e5"),Object(i.a)(n,o,"\u5370\u8c61\u7b14\u8bb0\u514d\u8d39\u5e10\u6237"),Object(i.a)(n,r,"\u5370\u8c61\u7b14\u8bb0\u6807\u51c6\u5e10\u6237"),Object(i.a)(n,s,"\u5370\u8c61\u7b14\u8bb0\u9ad8\u7ea7\u5e10\u6237"),Object(i.a)(n,l,"\u5370\u8c61\u7b14\u8bb0\u4f01\u4e1a\u5e10\u6237"),n),v={NO_PROFILE_NO_OPENAPI:0,NO_PROFILE_SINGLE_OPENAPI:1,SINGLE_PROFILE_NO_OPENAPI:2,SINGLE_PROFILE_SINGLE_OPENAPI_SAME:3,SINGLE_PROFILE_SINGLE_OPENAPI_DIFFERENT:4},d={MYYXBJ:"\u6211\u7684\u5370\u8c61\u7b14\u8bb0",MICRO_LIST:"\u5fae\u6e05\u5355"}},660:function(e,t,c){e.exports={serviceList:"ServiceList_serviceList__3yI3_",title:"ServiceList_title__1bXN1",block:"ServiceList_block__1Z45I",top:"ServiceList_top__1skhM",avator:"ServiceList_avator__19oI9",alias:"ServiceList_alias__1OWdf",line:"ServiceList_line__DixiN",label:"ServiceList_label__1Z-Gf",value:"ServiceList_value__1frm8",leftBlock:"ServiceList_leftBlock__1PS2U",evernote:"ServiceList_evernote__1PRX3",myyxbj:"ServiceList_myyxbj__34z9d",microlist:"ServiceList_microlist__1_QQB",detail:"ServiceList_detail__3tRKL",name:"ServiceList_name__3HL7X",detailInfo:"ServiceList_detailInfo__2m0bi",rightBlock:"ServiceList_rightBlock__3d7ox",connectBtn:"ServiceList_connectBtn__3kNXm",direct:"ServiceList_direct__2i3KA",desc:"ServiceList_desc__1_r-r",confirmBtn:"ServiceList_confirmBtn__3k5eV"}},722:function(e,t,c){"use strict";c.r(t);var n=c(85),i=c(14),a=c(15),o=c(22),r=c(20),s=c(21),l=c(0),_=c.n(l),v=c(58),d=c(192),u=c(112),m=c(595),f=c(276),L=c(579),b=c(50),S=c(660),O=c.n(S),E=function(e){function t(){var e,c;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(c=Object(o.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!0,devices:[]},c.getServiceList=function(e){e||c.props.history.push("/account-info"),e&&f.a.ListUserDevices(e).then(function(e){console.log(e.toObject()),c.setState({devices:e.toObject().userdeviceList,loading:!1})}).catch(function(e){console.warn(e)})},c.confirmCancelConnect=function(e){Object(L.e)(),Object(L.x)(),Object(d.a)({title:u.xb,content:u.o,operates:[{text:u.Nb,onClick:function(){return c.cancelConnect(e)}},{text:u.bb,main:!0,onClick:L.a}]})},c.cancelConnect=function(e){var t=e.channelid;Object(L.m)(),f.a.Disconnect(t).then(function(e){}).catch(function(e){console.error(e)}).finally(function(){window.wx.closeWindow()})},c.reconnect=function(e){Object(L.c)();var t=e.channelid,c=e.deviceidentifier,n=e.devicedescription;f.a.Reconnect(t,c,n).then(function(e){}).catch(function(e){console.error(e)}).finally(function(){window.wx.closeWindow()})},c.getConnectButton=function(e){var t=e.isconnected,n=e.channelid;if(console.log(t,typeof t),"boolean"===typeof t&&n){var i=t?u.n:u.pb,a=t?c.confirmCancelConnect:c.reconnect;return _.a.createElement("div",{className:O.a.rightBlock},_.a.createElement("button",{className:O.a.connectBtn,onClick:function(){return a(e)}},i),_.a.createElement("div",{className:O.a.direct}))}},c.getProperClassname=function(e){switch(e){case m.a.MYYXBJ:return"myyxbj";case m.a.MICRO_LIST:return"microlist";default:return"evernote"}},c}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.wechatSessionId;this.getServiceList(t)}},{key:"componentDidMount",value:function(){var e=this.props.wechatSessionId;this.getServiceList(e),Object(L.p)()}},{key:"render",value:function(){var e=this,t=this.state,c=t.loading,i=t.devices;return _.a.createElement("div",{className:O.a.serviceList},_.a.createElement("div",{className:O.a.title},_.a.createElement("span",null,u.i)),c&&_.a.createElement(b.a,null),_.a.createElement("div",{className:O.a.block},i.reduce(function(t,c){c.name;var i=c.devicekey,a=c.type,o=c.devicesessionList,r=void 0===o?{}:o,s="".concat(O.a.avator," ").concat(O.a[e.getProperClassname(a)]),l=r.map(function(t){var c=t.lastaccesstime,n=(t.appname,t.devicedescription);return _.a.createElement("div",{className:O.a.line,key:i},_.a.createElement("div",{className:O.a.leftBlock},_.a.createElement("div",{className:s}),_.a.createElement("div",{className:O.a.detail},_.a.createElement("div",{className:O.a.name},a),_.a.createElement("div",{className:O.a.detailInfo},n),_.a.createElement("div",{className:O.a.detailInfo},"-1"!==c&&c))),e.getConnectButton(t))});return[].concat(Object(n.a)(t),Object(n.a)(l))},[])))}}]),t}(l.Component);t.default=Object(v.b)(function(e){return{wechatSessionId:e.wechatSessionId,setWechatJsReady:e.setWechatJsReady}})(E)}}]);
//# sourceMappingURL=ServiceList.bd5e0955.chunk.js.map