{"version":3,"sources":["account/config/interfaceErrorCodeMap.js","account/components/CanNotGetVercode/index.js","account/components/VercodeInput/index.js","account/components/CanNotGetVercode/index.module.scss","account/components/VercodeInput/index.module.scss"],"names":["__webpack_require__","d","__webpack_exports__","GET_VERCODE_ERROR_TOO_OFTEN","GET_VERCODE_ERROR_LIMIT_REACHED","ERROR_CODE_VALUE_DAES_NOT_MATCH","ERROR_CODE_PASSWORD_TOO_WEAK","ERROR_CODE_VALUE_NOT_PRESENT","OTP_INTERGRITY_CHECK","VIRTUAL_PHONENUMBER_CODE","REGISTRATION_EMAIL_INVALID","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","query_string__WEBPACK_IMPORTED_MODULE_1__","_config_copywriting__WEBPACK_IMPORTED_MODULE_2__","_config_pageUrl__WEBPACK_IMPORTED_MODULE_3__","_index_module_scss__WEBPACK_IMPORTED_MODULE_6__","_index_module_scss__WEBPACK_IMPORTED_MODULE_6___default","CannotGetVercode","_ref","accountCreatePurpose","clickHandler","_parseUrl","parseUrl","VERCODE_HELP_URL","query","url","hashIdentifierIndex","indexOf","hashString","slice","from","queryString","stringify","link","concat","window","location","pathname","a","createElement","className","styles","cannotGetVercode","href","target","onClick","CAN_NOT_GET_VERCODE","defaultProps","timer","Timer","DEFAULT","TIP_LEVEL_MAP","ERROR","VERCODE","INPUT_TYPE_MAP","VercodeInput","props","_this","Object","_Users_LiuXiao_workfiled_embedded_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_LiuXiao_workfiled_embedded_web_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_LiuXiao_workfiled_embedded_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","vercode","tipLevel","verifyTip","countTime","requesting","onFocus","bind","_Users_LiuXiao_workfiled_embedded_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","onChange","getVercode","nextProps","oldVercodeTimeRemain","vercodeTimeRemain","inputType","setState","startTimer","count","stepCallback","updateCountTime","timeOverCallback","updateParentCountState","stopTimer","value","_this2","_this$props","verify","updateSmsSessionId","getVercodeHooks","then","_ref2","params","recipient","account","textotp","sig","getSignatureByParam","get","SEND_ONE_TIME_PASSWORD","_Users_LiuXiao_workfiled_embedded_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","data","sessionId","getValue","errorCode","c","alert","OPERATION_TOO_FREQUENT","OPERATION_OVER_RUN","COMMON_ERROR_TIPS","catch","err","console","log","finally","countStatus","updateCountState","onVercodeTimeChange","promise","_this3","VERCODE_REG","test","Promise","resolve","INVALID_VERIFICATION_CODE","reject","Error","EMPTY_VERIFICATION_CODE","_this$state","_this$props2","customTip","onBlur","countEnd","react__WEBPACK_IMPORTED_MODULE_7___default","vercodeInput","inputWrapper","_BasicInput__WEBPACK_IMPORTED_MODULE_10__","placeHolder","INPUT_VERCODE","useDefaultTip","textWrapper","text","normalText","hide","GET_VERCODE","countingText","REGET_AFTER_SOME_SECONDS","loadingIconWrapper","_LoadingIcon__WEBPACK_IMPORTED_MODULE_11__","Component","module","exports"],"mappings":"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","file":"static/js/4.f714dc5e.chunk.js","sourcesContent":["const GET_VERCODE_ERROR_TOO_OFTEN = 'otp.too.often.error';\nconst GET_VERCODE_ERROR_LIMIT_REACHED = 'otp.limit.reached.error';\nconst ERROR_CODE_VALUE_DAES_NOT_MATCH = 'validation.mask.valueDoesNotMatch';\nconst ERROR_CODE_PASSWORD_TOO_WEAK = 'password.too.weak';\nconst RESET_PASSWORD_PRE_SIGNATURE_ERROR = 'reset.password.pre.signature.error';\nconst ERROR_CODE_VALUE_NOT_PRESENT = 'validation.required.valueNotPresent';\nconst ONE_TIME_PASSWORD_INVALID = 'one.time.password.invalid';\nconst OTP_INTERGRITY_CHECK = 'otp.intergrity.check';\nconst ERROR_CODE_OTP_INVALID = 'phone.number.bind.invalid.otp';\nconst VALIDATION_REQUIRED_VALUE_NOT_PRESENT =\n  'validation.required.valueNotPresent';\nconst BIND_PHONE_ERROR_SIGNATURE = 'bind.phone.number.error.signature';\nconst VIRTUAL_PHONENUMBER_CODE = 'registration.invalid.virtual.phone.number';\nconst REGISTRATION_EMAIL_INVALID = 'registrationAction.email.invalid';\n\nexport {\n  GET_VERCODE_ERROR_TOO_OFTEN,\n  GET_VERCODE_ERROR_LIMIT_REACHED,\n  ERROR_CODE_VALUE_DAES_NOT_MATCH,\n  ERROR_CODE_PASSWORD_TOO_WEAK,\n  RESET_PASSWORD_PRE_SIGNATURE_ERROR,\n  ERROR_CODE_VALUE_NOT_PRESENT,\n  ONE_TIME_PASSWORD_INVALID,\n  OTP_INTERGRITY_CHECK,\n  ERROR_CODE_OTP_INVALID,\n  VALIDATION_REQUIRED_VALUE_NOT_PRESENT,\n  BIND_PHONE_ERROR_SIGNATURE,\n  VIRTUAL_PHONENUMBER_CODE,\n  REGISTRATION_EMAIL_INVALID,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { parseUrl, stringify } from 'query-string';\nimport { CAN_NOT_GET_VERCODE } from '../../config/copywriting';\nimport { VERCODE_HELP_URL } from '../../config/pageUrl';\nimport { ACCOUNT_CREATE_PURPOSE } from '../../config/propsPermittedValueMap';\nimport { transformObjectToArray } from '../../utils/commonUtils';\n\nimport styles from './index.module.scss';\n\nconst ACCOUNT_CREATE_PURPOSE_LIST = transformObjectToArray(\n  ACCOUNT_CREATE_PURPOSE,\n);\n\nconst CannotGetVercode = ({ accountCreatePurpose, clickHandler }) => {\n  const { url, query } = parseUrl(VERCODE_HELP_URL);\n  const hashIdentifierIndex = VERCODE_HELP_URL.indexOf('#');\n  const hashString = VERCODE_HELP_URL.slice(hashIdentifierIndex);\n  query.from = accountCreatePurpose;\n  const queryString = stringify(query);\n  const link = `${window.location.pathname}#/sms-helper?${queryString}${hashString}`;\n  return (\n    <a\n      className={styles.cannotGetVercode}\n      href={link}\n      target=\"__blank\"\n      onClick={clickHandler}\n    >\n      {CAN_NOT_GET_VERCODE}\n    </a>\n  );\n};\n\nCannotGetVercode.propTypes = {\n  accountCreatePurpose: PropTypes.oneOf(ACCOUNT_CREATE_PURPOSE_LIST).isRequired,\n  clickHandler: PropTypes.func,\n};\n\nCannotGetVercode.defaultProps = {\n  clickHandler: () => {},\n};\n\nexport default CannotGetVercode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'axios';\nimport { get as getValue } from 'lodash-es';\nimport BasicInput from '../BasicInput';\nimport LoadingIcon from '../LoadingIcon';\nimport {\n  INPUT_VERCODE,\n  EMPTY_VERIFICATION_CODE,\n  GET_VERCODE,\n  REGET_AFTER_SOME_SECONDS,\n  OPERATION_TOO_FREQUENT,\n  OPERATION_OVER_RUN,\n  COMMON_ERROR_TIPS,\n  INVALID_VERIFICATION_CODE,\n} from '../../config/copywriting';\nimport {\n  TIP_LEVEL_MAP,\n  INPUT_TYPE_MAP,\n} from '../../config/propsPermittedValueMap';\nimport { SEND_ONE_TIME_PASSWORD } from '../../config/interfaceUrl';\nimport {\n  GET_VERCODE_ERROR_TOO_OFTEN,\n  GET_VERCODE_ERROR_LIMIT_REACHED,\n} from '../../config/interfaceErrorCodeMap';\nimport { VERCODE_REG } from '../../config/commonRegex';\nimport Timer from '../../utils/Timer';\nimport { transformObjectToArray } from '../../utils/commonUtils';\nimport { getSignatureByParam } from '../../utils/signatureUtils';\n\nimport styles from './index.module.scss';\n\nconst timer = new Timer();\nconst { DEFAULT, ERROR } = TIP_LEVEL_MAP;\nconst LEVEL_LIST = transformObjectToArray(TIP_LEVEL_MAP);\nconst INPUT_TYPE_LIST = transformObjectToArray(INPUT_TYPE_MAP);\nconst { VERCODE } = INPUT_TYPE_MAP;\n\nclass VercodeInput extends Component {\n  static propTypes = {\n    verify: PropTypes.func.isRequired,\n    updateSmsSessionId: PropTypes.func.isRequired,\n    updateCountState: PropTypes.func.isRequired,\n    verifyTip: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    tipLevel: PropTypes.oneOf(LEVEL_LIST),\n    inputType: PropTypes.oneOf(INPUT_TYPE_LIST),\n    vercodeTimeRemain: PropTypes.number,\n    getVercodeHooks: PropTypes.func,\n    onVercodeTimeChange: PropTypes.func,\n    customTip: PropTypes.bool,\n    onBlur: PropTypes.func,\n  };\n\n  static defaultProps = {\n    vercodeTimeRemain: 0,\n    getVercodeHooks: () => {},\n    onVercodeTimeChange: () => {},\n    onBlur: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      vercode: '',\n      tipLevel: DEFAULT,\n      verifyTip: '',\n      countTime: 0,\n      requesting: false,\n    };\n    this.onFocus = this.onFocus.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.getVercode = this.getVercode.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { vercodeTimeRemain: oldVercodeTimeRemain } = this.props;\n    const { verifyTip, tipLevel, inputType, vercodeTimeRemain } = nextProps;\n    if (inputType === VERCODE) {\n      this.setState({\n        verifyTip,\n        tipLevel,\n      });\n    }\n\n    if (vercodeTimeRemain !== 0 && oldVercodeTimeRemain === 0) {\n      timer.startTimer({\n        count: vercodeTimeRemain,\n        stepCallback: this.updateCountTime.bind(this),\n        timeOverCallback: this.updateParentCountState.bind(this, false),\n      });\n      this.updateParentCountState(true);\n    }\n  }\n\n  componentWillUnmount() {\n    timer.stopTimer();\n  }\n\n  onFocus() {\n    this.setState({\n      tipLevel: DEFAULT,\n      verifyTip: '',\n    });\n  }\n\n  onChange({ target: { value } }) {\n    this.setState({\n      vercode: value,\n    });\n  }\n\n  getVercode() {\n    const { verify, updateSmsSessionId, getVercodeHooks } = this.props;\n    let verifyTip = '';\n    let tipLevel = '';\n    this.setState({\n      requesting: true,\n    });\n    verify()\n      .then(({ account }) => {\n        const params = {\n          recipient: account,\n          textotp: '',\n        };\n        const sig = getSignatureByParam(params);\n\n        return get(SEND_ONE_TIME_PASSWORD, {\n          params: { sig, ...params },\n        });\n      })\n      .then(data => {\n        const sessionId = getValue(data, 'data.sessionId');\n        const errorCode = getValue(data, 'data.errors[0].code');\n        // todo 调试用 需删除\n        const c = getValue(data, 'data.c');\n        alert(c);\n        if (sessionId) {\n          updateSmsSessionId(sessionId);\n          timer.startTimer({\n            stepCallback: this.updateCountTime.bind(this),\n            timeOverCallback: this.updateParentCountState.bind(this, false),\n          });\n          this.updateParentCountState(true);\n          tipLevel = DEFAULT;\n        } else if (errorCode) {\n          switch (errorCode) {\n            case GET_VERCODE_ERROR_TOO_OFTEN:\n              verifyTip = OPERATION_TOO_FREQUENT;\n              timer.startTimer({\n                stepCallback: this.updateCountTime.bind(this),\n                timeOverCallback: this.updateParentCountState.bind(this, false),\n              });\n              this.updateParentCountState(true);\n              break;\n            case GET_VERCODE_ERROR_LIMIT_REACHED:\n              verifyTip = OPERATION_OVER_RUN;\n              break;\n            default:\n              verifyTip = COMMON_ERROR_TIPS;\n              break;\n          }\n          tipLevel = ERROR;\n        } else {\n          tipLevel = DEFAULT;\n        }\n      })\n      .catch(err => {\n        tipLevel = DEFAULT;\n        console.log(err);\n      })\n      .finally(() => {\n        this.setState({\n          verifyTip,\n          tipLevel,\n          requesting: false,\n        });\n        getVercodeHooks();\n      });\n  }\n\n  updateParentCountState(countStatus) {\n    const { updateCountState } = this.props;\n    updateCountState(countStatus);\n  }\n\n  updateCountTime(countTime) {\n    const { onVercodeTimeChange } = this.props;\n    this.setState({\n      countTime,\n    });\n    onVercodeTimeChange(countTime);\n  }\n\n  verifyInput() {\n    const { vercode } = this.state;\n    let verifyTip = '';\n    let tipLevel = '';\n    let promise;\n    if (!vercode) {\n      verifyTip = EMPTY_VERIFICATION_CODE;\n      tipLevel = ERROR;\n      promise = Promise.reject(new Error(verifyTip));\n    } else if (!VERCODE_REG.test(vercode)) {\n      verifyTip = INVALID_VERIFICATION_CODE;\n      tipLevel = ERROR;\n      promise = Promise.reject(new Error(verifyTip));\n    } else {\n      tipLevel = DEFAULT;\n      promise = Promise.resolve(vercode);\n    }\n    return promise.finally(() => {\n      this.setState({\n        verifyTip,\n        tipLevel,\n      });\n    });\n  }\n\n  render() {\n    const { tipLevel, verifyTip, countTime, requesting, vercode } = this.state;\n    const { customTip, onBlur } = this.props;\n    const countEnd = countTime === 0;\n    return (\n      <div className={styles.vercodeInput}>\n        <div className={styles.inputWrapper}>\n          <BasicInput\n            tipLevel={tipLevel}\n            placeHolder={INPUT_VERCODE}\n            onFocus={this.onFocus}\n            value={vercode}\n            onChange={this.onChange}\n            useDefaultTip={!customTip}\n            onBlur={onBlur}\n          >\n            {verifyTip}\n          </BasicInput>\n        </div>\n        <div className={styles.textWrapper}>\n          <span\n            className={`${styles.text} ${styles.normalText} ${\n              !requesting && countEnd ? '' : styles.hide\n            }`}\n            onClick={this.getVercode}\n          >\n            {GET_VERCODE}\n          </span>\n          <span\n            className={`${styles.text} ${styles.countingText} ${\n              requesting || countEnd ? styles.hide : ''\n            }`}\n          >\n            {`${countTime}${REGET_AFTER_SOME_SECONDS}`}\n          </span>\n          <div\n            className={`${styles.loadingIconWrapper} ${\n              requesting ? '' : styles.hide\n            }`}\n          >\n            <LoadingIcon />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VercodeInput;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cannotGetVercode\":\"CanNotGetVercode_cannotGetVercode__2coF9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vercodeInput\":\"VercodeInput_vercodeInput__uQqTi\",\"inputWrapper\":\"VercodeInput_inputWrapper__2iwBK\",\"textWrapper\":\"VercodeInput_textWrapper__2zZxd\",\"text\":\"VercodeInput_text__KMoVD\",\"normalText\":\"VercodeInput_normalText__7wikc\",\"countingText\":\"VercodeInput_countingText__1sqVf\",\"hide\":\"VercodeInput_hide__hvosD\",\"loadingIconWrapper\":\"VercodeInput_loadingIconWrapper__9W1zk\"};"],"sourceRoot":""}