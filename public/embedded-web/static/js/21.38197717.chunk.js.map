{"version":3,"sources":["redeem/components/Notification/index.module.scss","redeem/assets/avator.png","redeem/components/UserInfo/index.module.scss","redeem/components/BasicInput/index.module.scss","redeem/components/RedeemInput/index.module.scss","redeem/components/Link/index.module.scss","redeem/routeComponents/RedeemInput/index.module.scss","redeem/config/pageUrl.js","redeem/config/interfaceErrorCodeMap.js","redeem/config/commonRegex.js","redeem/components/UserInfo/index.jsx","redeem/components/BasicInput/index.js","redeem/components/RedeemInput/index.js","redeem/components/Link/index.js","redeem/components/Notification/Notice.jsx","redeem/components/Notification/Notification.jsx","redeem/utils/commonUtils.js","redeem/routeComponents/RedeemInput/index.jsx"],"names":["module","exports","rc-notification","rc-notification-wrapper","rc-notification-notice","rc-notification-notice-closable","rc-notification-notice-close","rc-notification-notice-close-x","toast-enter","toast-enter-active","toast-exit","toast-exit-active","__webpack_require__","p","wrapper","avator","nickname","account","inputWrapper","input","inputting","disabled","tipText","error","warning","default","correct","toast","link","describe","button","CUSTOMER_SERVICE_URL","concat","EXTRACTED_BASE_URL","ALREADY_REDEEMED_BY_OTHER_USER","INELIGIBLE_SPONSOR_OWNER","INELIGIBLE_BUSINESS_USER","ALREADY_REDEEMED_BY_USER","INELIGIBLE_CANNOT_REDEEM_AGAIN","INELIGIBLE_EXPIRED","INELIGIBLE_ONLY_BASIC","SUCCESS","INELIGIBLE_OTHER","INELIGIBLE_PLUS_USER","INELIGIBLE_PREMIUM_USER","INVALID_PURCHASE_CODE","UNKNOWN_REDEMPTION_ERROR","INVALID_AUTHENTICATION_TOKEN","INVALID_PURCHASE_CODE_YX","SIMPLIFY_REDEEM_REG","COMMON_REDEEM_CODE","UserInfo","_ref","_react_16_8_5_react_default","a","createElement","className","styles","src","alt","BasicInput","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","ev","onFocus","getClassByStatus","level","keys","filter","item","indexOf","map","key","join","state","value","_this$props","children","placeHolder","inputStatus","forwardRef","restProps","objectWithoutProperties","assign","ref","placeholder","nextProps","prevState","nextValue","nextStatus","derivedState","objectSpread","Component","defaultProps","INPUT_STATUS_MAP","DEFAULT","REDEEM_CODE_SIZE","REDEEM_UNIT_SIZE","GAP_SIZE","Math","ceil","FORMAT_CODE_SIZE","RedeemInput","private","selectionStart","placeCaretAtEnd","textDom","_this$private","isAdd","pos","setSelectionRange","focus","window","setTimeout","createTextRange","range","collapse","moveEnd","moveStart","select","preValue","_ev$target","target","length","_this$calcuStatus","calcuStatus","formatted","setState","status","INPUTTING","newValue","DISABLED","size","replace","substring","insertBlank","split","reduce","acc","index","toConsumableArray","React","createRef","el","current","_this$state","components_BasicInput","INPUT_REDEEM","onEntered","Link","e","preventDefault","onClick","href","location","maybePromise","finally","message","classNames","defineProperty","bind","Notice","close","clearCloseTimer","onClose","startCloseTimer","duration","closeTimer","clearTimeout","prevProps","update","restartCloseTimer","_className","componentClass","prefixCls","closable","style","tabIndex","closeIcon","onEnd","right","seed","now","Date","Notification","notices","add","notice","maxCount","previousState","noticeIndex","v","updatedNotices","splice","updateKey","shift","push","remove","transitionName","animation","_this2","noticeNodes","Boolean","args","slice","arguments","i","apply","createChainedFunction","_react_transition_group_2_7_1_react_transition_group","timeout","unmountOnExit","mountOnEnter","enter","enterActive","exit","exitActive","Notice_Notice","content","classnames","component","top","left","newInstance","properties","callback","getContainer","div","document","appendChild","body","called","ReactDOM","render","Notification_Notification","notification","noticeProps","removeNotice","destroy","unmountComponentAtNode","parentNode","removeChild","n","openNotice","clientWidth","orientation","RedeemInputPage","loading","redeemCode","resultType","userLevel","tips","token","infos","platform","channel","copywriting","i18n","currentEnv","showCustomer","startLoading","stopLoading","newState","getUserInfo","PersonalInfoBridge","JSON","parse","getPersonalInfo","phone_num","email","nick_name","photo_url","getUserPhotoByBase64","getPlatform","getChannel","defaultAvator","activeAccount","_assertThisInitialize","assertThisInitialized","redirectToResultPage","_resolvePeriod","_handleError","_commonRequest","ERR_REDEEM_ERROR","activeBtnClicked","test","ACTIVE_REDEEM","authenticationToken","purchaseCode","data","_data$data","originUserLevel","period","isExchangePoints","syncAccountInfo","_resolvePeriod2","num","unit","DAY","DURATION_MAP","USER_LEVEL_MAP","BASIC","freeOnlyPageVisted","RESULT_PAGE_TYPE_MAP","FREE_ONLY","yxPointPageVisted","VIP_READY","activeSuccessed","ACTIVE_SUCCESS","errorMessageShowed","activeYXPoints","_this$state2","_this$private2","_assertThisInitialize2","yxPointButtonClicked","ACTIVE_YX_POINT","_data$data2","points","yxPointActiveSuccessed","YX_POINT","exec","PLUS","PREMIUM","url","param","cb","ERR_COMMON_TIPS","post","then","catch","console","log","_this$private$copywri","ERR_REDEEM_INVAILD","ERR_ALREADY_USED","ERR_GROUP_OWNER","ERR_PERSONAL_ONLY","ERR_ALREADY_REDEEMED","ERR_REDEEM_AGAIN","ERR_REDEEM_EXPIRED","ERR_FREE_ONLY","ERR_AUTH_TOKEN_INVAILD","invalidCode","params","history","qs","stringify","pageActived","redeemPage","title","jsBridge","OperateTitleBarBridge","showTitle","showLeftBackIcon","hideRightView","_this$state3","_this$private$copywri2","ACTIVE_BUTTON","DESCRIBE_VIP","CUSTOMER_SERVICE","Fragment","ResultPage","components_UserInfo","Description","copywritingHelper","components_RedeemInput","BasicButton","text","buttonWrapperClass","components_Link","customerServiceBtnClicked","connect","_ref2"],"mappings":"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","file":"static/js/21.38197717.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"rc-notification\":\"Notification_rc-notification__2mqrf\",\"rc-notification-wrapper\":\"Notification_rc-notification-wrapper__3rxpf\",\"rc-notification-notice\":\"Notification_rc-notification-notice__3RreJ\",\"rc-notification-notice-closable\":\"Notification_rc-notification-notice-closable__VNg8H\",\"rc-notification-notice-close\":\"Notification_rc-notification-notice-close__3Ai4-\",\"rc-notification-notice-close-x\":\"Notification_rc-notification-notice-close-x__3Yw-s\",\"toast-enter\":\"Notification_toast-enter__1qnZ8\",\"toast-enter-active\":\"Notification_toast-enter-active__25rv0\",\"toast-exit\":\"Notification_toast-exit__2OFVb\",\"toast-exit-active\":\"Notification_toast-exit-active__26d8v\"};","module.exports = __webpack_public_path__ + \"static/media/avator.16b2bf13.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserInfo_wrapper__AQjKp\",\"avator\":\"UserInfo_avator__1trP-\",\"nickname\":\"UserInfo_nickname__3CxZz\",\"account\":\"UserInfo_account__1HJmo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BasicInput_wrapper__2KzBO\",\"inputWrapper\":\"BasicInput_inputWrapper__1hQC_\",\"input\":\"BasicInput_input__1i7tG\",\"inputting\":\"BasicInput_inputting__2rmlb\",\"disabled\":\"BasicInput_disabled__17F3E\",\"tipText\":\"BasicInput_tipText__2pgiN\",\"error\":\"BasicInput_error__OVLVF\",\"warning\":\"BasicInput_warning__2NbQF\",\"default\":\"BasicInput_default__2uQ4_\",\"correct\":\"BasicInput_correct__fcxws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RedeemInput_wrapper__3-JZm\",\"toast\":\"RedeemInput_toast__1iocS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Link_wrapper__2z9SI\",\"link\":\"Link_link__sBCwO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RedeemInput_wrapper__2mu2D\",\"describe\":\"RedeemInput_describe__2a_sI\",\"button\":\"RedeemInput_button__2pnQ9\",\"link\":\"RedeemInput_link__3SJll\"};","import {EXTRACTED_BASE_URL} from './urlBaseInfo';\n\nexport const CUSTOMER_SERVICE_URL = `${EXTRACTED_BASE_URL}/setAuthToken?targetUrl=/SupportLogin.action&auth=`; // 联系客服页\n","export const ALREADY_REDEEMED_BY_OTHER_USER = 'ALREADY_REDEEMED_BY_OTHER_USER';\nexport const INELIGIBLE_SPONSOR_OWNER = 'INELIGIBLE_SPONSOR_OWNER';\nexport const INELIGIBLE_BUSINESS_USER = 'INELIGIBLE_BUSINESS_USER';\nexport const ALREADY_REDEEMED_BY_USER = 'ALREADY_REDEEMED_BY_USER';\nexport const INELIGIBLE_CANNOT_REDEEM_AGAIN = 'INELIGIBLE_CANNOT_REDEEM_AGAIN';\nexport const INELIGIBLE_EXPIRED = 'INELIGIBLE_EXPIRED';\nexport const INELIGIBLE_ONLY_BASIC = 'INELIGIBLE_ONLY_BASIC';\nexport const SUCCESS = 'SUCCESS';\n\nexport const INELIGIBLE_OTHER = 'INELIGIBLE_OTHER';\nexport const INELIGIBLE_PLUS_USER = 'INELIGIBLE_PLUS_USER';\nexport const INELIGIBLE_PREMIUM_USER = 'INELIGIBLE_PREMIUM_USER';\nexport const INVALID_PURCHASE_CODE = 'INVALID_PURCHASE_CODE';\nexport const UNKNOWN_REDEMPTION_ERROR = 'UNKNOWN_REDEMPTION_ERROR';\n\nexport const INVALID_AUTHENTICATION_TOKEN = 'INVALID_AUTHENTICATION_TOKEN';\nexport const INVALID_PURCHASE_CODE_YX = 'PURCHASE_CODE_ERROR';\n","const SIMPLE_PHONE_REG = /^1\\d{10}$/;\nconst VERCODE_REG = /^\\d{6}$/;\n// const PASSWORD_REGEX = /^[A-Za-z0-9!#$%&'()*+,.\\/:;<=>?@^_`{|}~\\[\\]\\\\-]{6,64}$/;\n\nexport const START_TAG = \"@@START\";\nexport const END_TAG = \"@@END\";\n\nexport const REDEEM_REG = /[\\s-]/;\nexport const SIMPLIFY_REDEEM_REG = /[\\s-]/g;\nexport const COMMON_REDEEM_CODE = /[a-zA-Z0-9]{20}/;\n\nexport {\n  SIMPLE_PHONE_REG,\n  VERCODE_REG,\n  // PASSWORD_REGEX,\n}","import React from 'react';\n\nimport styles from './index.module.scss';\n\nconst UserInfo = ({avator, nickname, account}) => (\n  <div className={styles.wrapper}>\n    <div>\n      <img className={styles.avator} src={avator} alt=\"\" />\n    </div>\n    <div className={styles.nickname}>\n      <span>{nickname}</span>\n    </div>\n    <div className={styles.account}>\n      <span>{account}</span>\n    </div>\n    <div></div>\n  </div>\n);\n\nexport default UserInfo;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {INPUT_STATUS_MAP} from '../../config/propsPermittedValueMap';\nimport {transformObjectToArray} from '../../utils/commonUtils';\n\nimport styles from './index.module.scss';\n\nconst LEVEL_LIST = transformObjectToArray(INPUT_STATUS_MAP);\n\nclass BasicInput extends Component {\n  static propTypes = {\n    inputStatus: PropTypes.oneOf(LEVEL_LIST),\n    placeHolder: PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    onFocus: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.string,\n  };\n  static defaultProps = {\n    inputStatus: INPUT_STATUS_MAP.DEFAULT,\n    value: '',\n    onFocus: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {value,inputStatus} = prevState;\n    const {value: nextValue, inputStatus: nextStatus} = nextProps;\n    let derivedState = {}\n    if (nextValue !== value) {\n      derivedState =  {\n        ...derivedState,\n        value: nextValue,\n      };\n    }\n    if (nextStatus !== inputStatus) {\n      derivedState =  {\n        ...derivedState,\n        inputStatus: nextStatus,\n      };\n    }\n    return derivedState;\n  }\n\n  onChange = (ev) => {\n    const {onChange} = this.props;\n    onChange(ev);\n  }\n\n  onFocus = (ev) => {\n    const {onFocus} = this.props;\n    onFocus(ev);\n  }\n\n  getClassByStatus = (level) => {\n    let keys;\n    keys = Object.keys(styles).filter(item => item.indexOf(level) > -1);\n    return keys.map(key => styles[key]).join(' ');\n  }\n\n  render() {\n    const {value} = this.state;\n    const {children, placeHolder, inputStatus, onFocus,forwardRef, ...restProps} = this.props;\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.inputWrapper}>\n          <input {...restProps}\n                 ref={forwardRef}\n                 className={`${styles.input} ${this.getClassByStatus(inputStatus)}`}\n                 value={value}\n                 placeholder={placeHolder}\n                 onFocus={onFocus}\n                 onChange={this.onChange}/>\n        </div>\n        <p className={`${styles.tipText} ${this.getClassByStatus(inputStatus)}`}>\n          {children}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport default BasicInput;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {INPUT_STATUS_MAP} from '../../config/propsPermittedValueMap';\nimport {INPUT_REDEEM} from '../../config/resources_cn';\nimport {SIMPLIFY_REDEEM_REG} from '../../config/commonRegex';\n\nimport BasicInput from '../BasicInput';\n\nimport styles from './index.module.scss';\n\nconst REDEEM_CODE_SIZE = 20; // standerd redeem code length\nconst REDEEM_UNIT_SIZE = 5;\nconst GAP_SIZE = Math.ceil(REDEEM_CODE_SIZE / REDEEM_UNIT_SIZE) - 1;\nconst FORMAT_CODE_SIZE = REDEEM_CODE_SIZE + GAP_SIZE;\n\nclass RedeemInput extends Component {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    value: PropTypes.string,\n    onEntered: PropTypes.func,\n  };\n\n  static defaultProps = {\n    value: '',\n    onFocus: () => {},\n    onEntered: () => {},\n  };\n\n  private = {\n    selectionStart: 0,\n  }\n\n  constructor(props) {\n    super(props);\n    this.ref = React.createRef();\n    this.state = {\n      value: '',\n      inputStatus: INPUT_STATUS_MAP.INPUTTING,\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {value} = prevState;\n    const {value: nextValue} = nextProps;\n    if (nextValue !== value) {\n      return {value};\n    }\n    return {};\n  }\n\n  componentDidUpdate() {\n    window.el = this.ref.current;\n    this.placeCaretAtEnd(this.ref.current);\n  }\n\n  placeCaretAtEnd = (textDom) => {    //传入光标要去的jq节点对象\n    const {selectionStart, isAdd} = this.private;\n    let pos = selectionStart;\n    if (pos % 6 === 0 && pos !== 0) isAdd ? pos += 1 : pos -= 1;\n    if (textDom.setSelectionRange) {\n      // IE Support\n      textDom.focus();\n      window.setTimeout(() => textDom.setSelectionRange(pos, pos), 0);\n    } else if (textDom.createTextRange) {\n        // Firefox support\n        var range = textDom.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', pos);\n        range.moveStart('character', pos);\n        range.select();\n    }\n  }\n\n  onChange = (ev) => {\n    const {onChange} = this.props;\n    const {value: preValue} = this.state;\n    const {target: {value, selectionStart}} = ev;\n    this.private.selectionStart = selectionStart;\n    this.private.isAdd = preValue.length < value.length; // LABEL: here's need to know wether the length increased \n    const {inputStatus, value: formatted} = this.calcuStatus(value);\n    this.setState({\n      inputStatus,\n      value: formatted,\n    });\n    onChange(formatted);\n  }\n\n  // calculate the input component's status, and format the input\n  calcuStatus = (value) => {\n    const {value: preValue} = this.state;\n    let status = INPUT_STATUS_MAP.INPUTTING;\n    let newValue = value;\n    if (value.length > FORMAT_CODE_SIZE && preValue.length === FORMAT_CODE_SIZE){\n      newValue = preValue;\n      status = INPUT_STATUS_MAP.DISABLED;\n      this.private.selectionStart -= 1; //LABEL: label moved ,but value doesn't change, so hack it\n    } else if(typeof value === 'string' && value.length > 0) {\n      newValue = value.replace(SIMPLIFY_REDEEM_REG, '');\n      const size = newValue.length;\n      if(size >= REDEEM_CODE_SIZE){\n        status = INPUT_STATUS_MAP.DISABLED;\n        newValue = newValue.substring(0, REDEEM_CODE_SIZE);\n      } else if(size > 0) {\n        status = INPUT_STATUS_MAP.INPUTTING;\n      } \n      newValue = this.insertBlank(newValue);\n    }\n    return {\n      inputStatus: status,\n      value: newValue,\n    };\n  }\n\n  // insert a blankspace every four characters\n  insertBlank = (value) => {\n    return value.split('').reduce((acc, item, index) => {\n      const size = index + 1;\n      if (size % REDEEM_UNIT_SIZE === 0 && size !== value.length) { // there's no need to add a blankspace at end of the string\n        return [...acc, item, ' '];\n      }\n      return [...acc, item];\n    }, []).join('');\n  }\n\n  render() {\n    const {value,inputStatus} = this.state;\n    const {onChange} = this;\n    return (\n      <div className={styles.wrapper}>\n        <BasicInput\n          value={value}\n          inputStatus={inputStatus}\n          placeHolder={INPUT_REDEEM}\n          onChange={onChange}\n          forwardRef={this.ref}\n        ></BasicInput>\n      </div>\n    )\n  }\n}\n\nexport default RedeemInput;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './index.module.scss';\n\nclass Link extends Component {\n  static propTypes = {\n    onClick: PropTypes.func,\n    href: PropTypes.string,\n    message: PropTypes.string,\n  };\n  static defaultProps = {\n    onClick: () => {},\n  };\n\n  onClick(e) {\n    e.preventDefault();\n    const {onClick} = this.props;\n    const {target: {href}} = e;\n    const {location} = window;\n    const maybePromise = onClick();\n    if (maybePromise && typeof maybePromise.finally === 'function') {\n      maybePromise.finally(() => {\n        location.href = href;\n      })\n    } else {\n      location.href = href;\n    }\n  }\n\n  render() {\n    const {href, message, className} = this.props;\n    return (\n        <div className={classNames(styles.wrapper, {[className]: className})} >\n            <a className={classNames(styles.link, {[className]: className})}\n               href={href}\n               onClick={this.onClick.bind(this)}>\n                {message}\n            </a>\n        </div>\n    );\n  }\n}\n\nexport default Link;","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\n\nexport default class Notice extends Component {\n  static propTypes = {\n    duration: PropTypes.number,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    update: PropTypes.bool,\n    closeIcon: PropTypes.node,\n  };\n\n  static defaultProps = {\n    onEnd() {\n    },\n    onClose() {\n    },\n    duration: 1.5,\n    style: {\n      right: '50%',\n    },\n  };\n\n  componentDidMount() {\n    this.startCloseTimer();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.duration !== prevProps.duration\n      || this.props.update) {\n      this.restartCloseTimer();\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearCloseTimer();\n  }\n\n  close = () => {\n    this.clearCloseTimer();\n    this.props.onClose();\n  }\n\n  startCloseTimer = () => {\n    if (this.props.duration) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, this.props.duration * 1000);\n    }\n  }\n\n  clearCloseTimer = () => {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n  }\n\n  restartCloseTimer() {\n    this.clearCloseTimer();\n    this.startCloseTimer();\n  }\n\n  render() {\n    const props = this.props;\n    const componentClass = `${props.prefixCls}-notice`;\n    const className = {\n      [styles[`${componentClass}`]]: 1,\n      [styles[`${componentClass}-closable`]]: props.closable,\n      [props.className]: !!props.className,\n    };\n    return (\n      <div\n        className={classNames(className)}\n        style={props.style}\n        onClick={props.onClick}\n      >\n        <div className={styles[`${componentClass}-content`]}>{props.children}</div>\n          {props.closable ?\n            <a tabIndex=\"0\" onClick={this.close} className={styles[`${componentClass}-close`]}>\n              {props.closeIcon || <span className={styles[`${componentClass}-close-x`]}/>}\n            </a> : null\n          }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport {createChainedFunction } from '../../utils/commonUtils';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport classnames from 'classnames';\nimport Notice from './Notice';\n\nimport styles from './index.module.scss';\n\nlet seed = 0;\nconst now = Date.now();\n\nfunction getUuid() {\n  return `rcNotification_${now}_${seed++}`;\n}\n\nclass Notification extends Component {\n  static propTypes = {\n    prefixCls: PropTypes.string,\n    transitionName: PropTypes.string,\n    animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    style: PropTypes.object,\n    maxCount: PropTypes.number,\n    closeIcon: PropTypes.node,\n  };\n\n  static defaultProps = {\n    prefixCls: 'rc-notification',\n    animation: 'fade',\n    style: {\n      top: 65,\n      left: '50%',\n    },\n  };\n\n  state = {\n    notices: [],\n  };\n\n  getTransitionName() {\n    const props = this.props;\n    let transitionName = props.transitionName;\n    if (!transitionName && props.animation) {\n      transitionName = `${props.prefixCls}-${props.animation}`;\n    }\n    return styles[transitionName];\n  }\n\n  add = (notice) => {\n    const key = notice.key = notice.key || getUuid();\n    const { maxCount } = this.props;\n    this.setState(previousState => {\n      const notices = previousState.notices;\n      const noticeIndex = notices.map(v => v.key).indexOf(key);\n      const updatedNotices = notices.concat();\n      if (noticeIndex !== -1) {\n        updatedNotices.splice(noticeIndex, 1, notice);\n      } else {\n        if (maxCount && notices.length >= maxCount) {\n          // XXX, use key of first item to update new added (let React to move exsiting\n          // instead of remove and mount). Same key was used before for both a) external\n          // manual control and b) internal react 'key' prop , which is not that good.\n          notice.updateKey = updatedNotices[0].updateKey || updatedNotices[0].key;\n          updatedNotices.shift();\n        }\n        updatedNotices.push(notice);\n      }\n      return {\n        notices: updatedNotices,\n      };\n    });\n  }\n\n  remove = (key) => {\n    this.setState(previousState => {\n      return {\n        notices: previousState.notices.filter(notice => notice.key !== key),\n      };\n    });\n  }\n  \n  render() {\n    const props = this.props;\n    const { notices } = this.state;\n    const noticeNodes = notices.map((notice, index) => {\n      const update = Boolean(index === notices.length - 1 && notice.updateKey);\n      const key = notice.updateKey ? notice.updateKey : notice.key;\n      const onClose = createChainedFunction(this.remove.bind(this, notice.key), notice.onClose);\n      return (<CSSTransition  timeout={500}\n                              key={key}\n                              unmountOnExit\n                              mountOnEnter\n                              classNames={{\n                                enter: styles['toast-enter'],\n                                enterActive: styles['toast-enter-active'],\n                                exit: styles['toast-exit'],\n                                exitActive: styles['toast-exit-active'],\n                              }}\n                >\n                <div className={styles[`${props.prefixCls}-wrapper`]}>\n                  <Notice\n                    prefixCls={props.prefixCls}\n                    {...notice}\n                    key={key}\n                    update={update}\n                    onClose={onClose}\n                    onClick={notice.onClick}\n                    closeIcon={props.closeIcon}\n                  >\n                    {notice.content}\n                  </Notice>\n                </div>\n                \n      </CSSTransition>\n      );\n    });\n    const className = {\n      [styles[props.prefixCls]]: 1,\n      [styles[props.className]]: !!props.className,\n    };\n    return (\n      <div className={classnames(className)} style={props.style}>\n        <TransitionGroup component=\"span\">\n          {noticeNodes}\n        </TransitionGroup>\n      </div>\n    );\n  }\n}\n\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  const { getContainer, ...props } = properties || {};\n  const div = document.createElement('div');\n  if (getContainer) {\n    const root = getContainer();\n    root.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n  let called = false;\n  function ref(notification) {\n    if (called) {\n      return;\n    }\n    called = true;\n    callback({\n      notice(noticeProps) {\n        notification.add(noticeProps);\n      },\n      removeNotice(key) {\n        notification.remove(key);\n      },\n      component: notification,\n      destroy() {\n        ReactDOM.unmountComponentAtNode(div);\n        div.parentNode.removeChild(div);\n      },\n    });\n  }\n  ReactDOM.render(<Notification {...props} ref={ref} />, div);\n};\n\n// instance\nlet notification = null;\n\nNotification.newInstance({ style: { top: '65px' }}, (n) => notification = n);\n\nexport {\n  notification,\n}\n\nexport default Notification;\n\n\n","const createFormAndSubmit = ({action, method = 'post', inputs = []}) => {\n  if (!document) {\n    throw new Error('the envirement you are using is not has a document variable');\n  }\n  if (Object.prototype.toString.call(inputs) !== '[object Array]') {\n    throw new Error('inputs must be a instance of Array');\n  }\n  const form = document.createElement('form');\n  const fragment = document.createDocumentFragment();\n  form.action = action;\n  form.method = method;\n  form.style.display = 'none';\n  inputs.forEach(item => {\n    const input = document.createElement('input');\n    input.type = 'text';\n    input.name = item.name;\n    input.defaultValue = item.defaultValue;\n    fragment.appendChild(input);\n  });\n  form.appendChild(fragment);\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n  return form;\n};\n\nconst loginAfterRegistration = ({action, account, password, ts, tsh}) => {\n  createFormAndSubmit({\n    action,\n    inputs: [\n      {\n        name: 'rememberMe',\n        defaultValue: 'true',\n      },\n      {\n        name: 'login',\n        defaultValue: '登录',\n      },\n      {\n        name: 'analyticsLoginOrigin',\n        defaultValue: 'login_action',\n      },\n      {\n        name: 'clipperFlow',\n        defaultValue: 'false',\n      },\n      {\n        name: 'showSwitchService',\n        defaultValue: 'true',\n      },\n      {\n        name: 'usernameImmutable',\n        defaultValue: 'false',\n      },\n      {\n        name: 'username',\n        defaultValue: account,\n      },\n      {\n        name: 'password',\n        defaultValue: password,\n      },\n      {\n        name: 'hpts',\n        defaultValue: ts,\n      },\n      {\n        name: 'hptsh',\n        defaultValue: tsh,\n      },\n    ]\n  });\n};\n\nconst loginAfterBind = ({action, authToken, hpts, hsHash}) => {\n  createFormAndSubmit({\n    action,\n    inputs: [\n      {\n        name: 'loginToken',\n        defaultValue: authToken,\n      },\n      {\n        name: 'tokenLogin',\n        defaultValue: '',\n      },\n      {\n        name: 'hpts',\n        defaultValue: hpts,\n      },\n      {\n        name: 'hptsh',\n        defaultValue: hsHash,\n      },\n      {\n        name: 'wechatLogin',\n        defaultValue: 'true',\n      },\n    ]\n  });\n};\n\nconst transformObjectToArray = (obj) => {\n  return Object.keys(obj).map(key => obj[key]);\n};\n\nexport function createChainedFunction() {\n  var args = [].slice.call(arguments, 0);\n  if (args.length === 1) {\n    return args[0];\n  }\n\n  return function chainedFunction() {\n    for (var i = 0; i < args.length; i++) {\n      if (args[i] && args[i].apply) {\n        args[i].apply(this, arguments);\n      }\n    }\n  };\n}\n\nexport {\n  loginAfterRegistration,\n  loginAfterBind,\n  transformObjectToArray,\n};","import React, {Component} from 'react';\nimport {post} from 'axios';\nimport {connect} from 'react-redux';\nimport qs from 'query-string';\n\nimport {\n    RESULT_PAGE_TYPE_MAP,USER_LEVEL_MAP,\n    DURATION_MAP,\n} from '../../config/propsPermittedValueMap';\nimport copywritingHelper from '../../utils/copywritingHelper';\nimport {CUSTOMER_SERVICE_URL} from '../../config/pageUrl';\nimport {ACTIVE_REDEEM,ACTIVE_YX_POINT} from '../../config/interfaceUrl';\nimport i18n from '../../config/i18n';\nimport {\n    SUCCESS,ALREADY_REDEEMED_BY_OTHER_USER,INELIGIBLE_SPONSOR_OWNER,\n    INELIGIBLE_BUSINESS_USER,ALREADY_REDEEMED_BY_USER,INELIGIBLE_CANNOT_REDEEM_AGAIN,\n    INELIGIBLE_EXPIRED,INELIGIBLE_ONLY_BASIC,INELIGIBLE_OTHER,\n    INELIGIBLE_PLUS_USER,INELIGIBLE_PREMIUM_USER,INVALID_PURCHASE_CODE,\n    UNKNOWN_REDEMPTION_ERROR,INVALID_AUTHENTICATION_TOKEN,INVALID_PURCHASE_CODE_YX\n} from '../../config/interfaceErrorCodeMap';\nimport {\n    pageActived, activeBtnClicked, errorMessageShowed,\n    invalidCode, customerServiceBtnClicked, freeOnlyPageVisted,\n    activeSuccessed, yxPointPageVisted,\n    yxPointButtonClicked, yxPointActiveSuccessed,\n} from '../../ga/gaPoints';\nimport {COMMON_REDEEM_CODE} from '../../config/commonRegex';\nimport defaultAvator from '../../assets/avator.png';\n\nimport UserInfo from '../../components/UserInfo';\nimport RedeemInput from '../../components/RedeemInput';\nimport BasicButton from '../../components/BasicButton';\nimport Description from '../../components/Description';\nimport Link from '../../components/Link';\nimport {notification} from '../../components/Notification';\nimport ResultPage from '../ResultPage';\n\nimport styles from './index.module.scss';\n\nconst isTablte = () =>  window.document.body.clientWidth >= 768 && window.orientation === 0;\n\nconst openNotice = (message) => {\n    notification.removeNotice(1);\n    notification.notice({\n        key: 1,\n        content: message, \n        duration: 3,\n        style: { top: isTablte() ? '408px' : '179px'},\n    });\n}\n\nclass RedeemInputPage extends Component {\n    state = {\n        loading: false,\n        disabled: true,\n        redeemCode: '',\n        resultType: '', // result to show\n        userLevel:'',\n        tips: '',\n    }\n\n    private = {\n        token: '',\n        infos: null, // infos temp\n        platform: null,\n        channel: null,\n        copywriting: i18n[this.props.currentEnv],\n        showCustomer: false,\n    }\n\n\n    componentDidMount() {\n        pageActived(); // GA\n\n        const {redeemPage} = this.private.copywriting;\n        document.title = redeemPage;\n        // change webview weigets\n        const jsBridge = window.OperateTitleBarBridge;\n        if (jsBridge) {\n            jsBridge.showTitle();\n            jsBridge.showLeftBackIcon();\n            jsBridge.hideRightView();\n        }\n    }\n\n    onChange = (redeemCode) => {\n        this.setState({\n            redeemCode,\n            disabled: redeemCode.length <= 0,\n            tips: '',\n        });\n    }\n\n    startLoading = () => {\n        this.setState({\n            loading: true,\n            disabled: true,\n        })\n    }\n\n    stopLoading = (newState) => {\n        if(newState.tips) {\n            openNotice(newState.tips);\n        }\n        this.setState({\n            loading: false,\n            disabled: false,\n            ...newState,\n        });\n    }\n\n    getUserInfo = () => {\n        // get info logic\n        const { token, phone_num, email, nick_name } = \n            (window.PersonalInfoBridge && JSON.parse(window.PersonalInfoBridge.getPersonalInfo())) \n            ||\n            window;\n        if (!this.private.infos) {\n            const photo_url = window.PersonalInfoBridge && window.PersonalInfoBridge.getUserPhotoByBase64();\n            this.private.token = token;\n            this.private.platform = window.PersonalInfoBridge && window.PersonalInfoBridge.getPlatform && window.PersonalInfoBridge.getPlatform();\n            this.private.channel = window.PersonalInfoBridge && window.PersonalInfoBridge.getChannel && window.PersonalInfoBridge.getChannel();\n            this.private.infos = {\n                avator: photo_url ? `data:image/png;base64,${photo_url}` : defaultAvator,\n                nickname: nick_name || '-',\n                account: phone_num || email || '-',\n            };\n        }\n       \n        return this.private.infos;\n    }\n\n    activeAccount = () => {\n        // this.props.history.push(`resultPage?resultType=${RESULT_PAGE_TYPE_MAP.ACTIVE_SUCCESS}`)\n        const {loading,redeemCode} = this.state;\n        const {token,platform,channel} = this.private;\n        const {redirectToResultPage,startLoading,stopLoading,\n            _resolvePeriod,_handleError,_commonRequest} = this;\n        const {ERR_REDEEM_ERROR} = this.private.copywriting;\n        \n        activeBtnClicked(); // GA\n        if (loading || redeemCode.length <= 0) return false;\n        // frontEnd code check\n        if(!COMMON_REDEEM_CODE.test(redeemCode.replace(/[ ]/g, ''))) {\n            openNotice(ERR_REDEEM_ERROR);\n            errorMessageShowed(); // GA\n            return false;\n        }\n        startLoading();\n\n        _commonRequest(ACTIVE_REDEEM, {\n            authenticationToken: token,\n            purchaseCode: redeemCode.replace(/[ ]/g, '-'), // trans to standerd form\n            platform,\n            channel,\n        }, data => {\n            const {data: {status, originUserLevel, period, isExchangePoints} = {}} = data;\n            window.PersonalInfoBridge && window.PersonalInfoBridge.syncAccountInfo && window.PersonalInfoBridge.syncAccountInfo();// add android sync action\n            \n            if (status === SUCCESS\n                || status === INELIGIBLE_PLUS_USER\n                || status === INELIGIBLE_ONLY_BASIC\n                || status === INELIGIBLE_PREMIUM_USER){\n                const {num, level, unit} = _resolvePeriod(period);\n                const {DAY} = DURATION_MAP;\n\n                if((originUserLevel !== USER_LEVEL_MAP.BASIC && unit === DAY)\n                    || status === INELIGIBLE_ONLY_BASIC\n                    || status === INELIGIBLE_PREMIUM_USER) { // free user only\n                    freeOnlyPageVisted(); // GA\n                    redirectToResultPage({resultType: RESULT_PAGE_TYPE_MAP.FREE_ONLY});\n                } else if(isExchangePoints) { // do the two step confirm in this page\n                    yxPointPageVisted();\n                    stopLoading({\n                        resultType: RESULT_PAGE_TYPE_MAP.VIP_READY,\n                        userLevel: originUserLevel,\n                    });\n                } else { // active success\n                    activeSuccessed(period); // GA\n                    redirectToResultPage({\n                        resultType: RESULT_PAGE_TYPE_MAP.ACTIVE_SUCCESS,\n                        num,\n                        userLevel: level,\n                        unit,\n                    });\n                }\n            } else {\n                stopLoading({\n                    tips: _handleError(status),\n                });\n            }\n        })\n    }\n\n    activeYXPoints = () => {\n        const {loading,redeemCode} = this.state;\n        const {token,platform,channel} = this.private;\n        const {redirectToResultPage,startLoading, stopLoading,\n            _handleError,_commonRequest} = this;\n        \n        yxPointButtonClicked(); // GA\n        if (loading || redeemCode.length <= 0) return false;\n        startLoading();\n\n        _commonRequest(ACTIVE_YX_POINT, {\n            authenticationToken: token,\n            purchaseCode: redeemCode.replace(/[ ]/g, '-'),\n            platform,\n            channel,\n        }, data => {\n            const {data: {status, points} = {}} = data;\n            if (status === SUCCESS){\n                yxPointActiveSuccessed(points); // GA\n                redirectToResultPage({\n                    resultType: RESULT_PAGE_TYPE_MAP.YX_POINT,\n                    num: points,\n                });\n            } else {\n                stopLoading({\n                    tips: _handleError(status),\n                });\n            }\n        })\n    }\n    /**\n     * 'gift-3day'  => '{num:3, level: 'PREMIUM', unit: 'day'}'\n     */\n    _resolvePeriod = (period) => {\n        return {\n            num: /(\\d+)/.exec(period)[1],\n            level: period.split('-').length > 2 ? USER_LEVEL_MAP.PLUS : USER_LEVEL_MAP.PREMIUM,\n            unit: /\\d+(\\w+)/.exec(period)[1],\n        }\n    }\n\n    _commonRequest = (url, param, cb) => {\n        const {ERR_COMMON_TIPS} = this.private.copywriting;\n        post(url, param).then(cb).catch((e) => {\n            console.log(e);\n            this.stopLoading({\n                tips: ERR_COMMON_TIPS,\n            })\n        })\n    }\n\n    _handleError = (status) => {\n        const {   \n            ERR_REDEEM_INVAILD,ERR_ALREADY_USED,ERR_GROUP_OWNER,\n            ERR_PERSONAL_ONLY,ERR_ALREADY_REDEEMED,ERR_REDEEM_AGAIN,\n            ERR_REDEEM_EXPIRED,ERR_FREE_ONLY, ERR_COMMON_TIPS,\n            ERR_AUTH_TOKEN_INVAILD,ERR_REDEEM_ERROR,\n        } = this.private.copywriting;\n        let tips = '';\n        this.private.showCustomer = false; // control the customer link display\n        switch(status) {\n            case ALREADY_REDEEMED_BY_OTHER_USER: \n                tips = ERR_ALREADY_USED;\n                break;\n            case INELIGIBLE_SPONSOR_OWNER: \n                tips = ERR_GROUP_OWNER;\n                break;\n            case INELIGIBLE_BUSINESS_USER: \n                tips = ERR_PERSONAL_ONLY;\n                break;\n            case ALREADY_REDEEMED_BY_USER: \n                tips = ERR_ALREADY_REDEEMED;\n                break;\n            case INELIGIBLE_CANNOT_REDEEM_AGAIN: \n            case INELIGIBLE_PREMIUM_USER:\n                tips = ERR_REDEEM_AGAIN;\n                break;\n            case INELIGIBLE_EXPIRED: \n                tips = ERR_REDEEM_EXPIRED;\n                break;\n            case INELIGIBLE_ONLY_BASIC: \n                tips = ERR_FREE_ONLY;\n                break;\n            case INELIGIBLE_OTHER:\n            case INELIGIBLE_PLUS_USER:\n            case INVALID_PURCHASE_CODE:\n            case UNKNOWN_REDEMPTION_ERROR: \n                tips = ERR_REDEEM_INVAILD;\n                this.private.showCustomer = true;\n                invalidCode(); // GA\n                break;\n            case INVALID_AUTHENTICATION_TOKEN:\n                tips = ERR_AUTH_TOKEN_INVAILD;\n                break;\n            case INVALID_PURCHASE_CODE_YX:\n                tips = ERR_REDEEM_ERROR;\n                break;\n            default: tips = ERR_COMMON_TIPS;\n        }\n        return tips;\n    }\n\n    redirectToResultPage = (params) => {\n        this.props.history.push(`resultPage?${qs.stringify(params)}`);\n    }\n\n    render() {\n        const { \n            loading, disabled, resultType,\n            userLevel,\n        } = this.state;\n        const { activeAccount, onChange } = this;\n        const {ACTIVE_BUTTON,DESCRIBE_VIP,CUSTOMER_SERVICE} = this.private.copywriting;\n        return (\n                <React.Fragment>\n                    {!resultType ? \n                        <div className={styles.wrapper}>\n                            <UserInfo {...this.getUserInfo()} />\n                            <Description content={copywritingHelper(DESCRIBE_VIP)}\n                                         className={styles.describe}\n                            />\n                            <RedeemInput onChange={onChange} />\n                            <BasicButton text={ACTIVE_BUTTON}\n                                        onClick={activeAccount}\n                                        loading={loading}\n                                        disabled={loading || disabled}\n                                        buttonWrapperClass={styles.button}\n                            />\n                            {/** GA */ }\n                            {this.private.showCustomer && <Link href={`${CUSTOMER_SERVICE_URL}${this.private.token}`}\n                                message={CUSTOMER_SERVICE}\n                                onClick={() => customerServiceBtnClicked()}\n                                className={styles.link}\n                            />}\n                        </div>\n                        :\n                        <ResultPage resultType={resultType}\n                                    userLevel={userLevel}\n                                    activeYXPoints={this.activeYXPoints}\n                        />\n                    }\n                </React.Fragment>\n        )\n    }\n}\n\nconst stateToProps = ({ currentEnv }) => ({ currentEnv });\n\nexport default connect(stateToProps)(RedeemInputPage);"],"sourceRoot":""}