(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{607:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var a={},s=function(e,t){var n;window[e]?n=a[e]:(n=a[e]=[],window[e]=function(){var e=arguments;n.forEach(function(t){t.apply(null,e)})}),n.push(t)},c=function(e,t){var n=a[e];if(n)if(t){var s=n.findIndex(function(e){return e===t});n.splice(s,1)}else n.length=0}},647:function(e,t,n){e.exports={smsHelper:"SmsHelper_smsHelper__1yUE-",textWrapper:"SmsHelper_textWrapper__1kLfb",title:"SmsHelper_title__3Zgzg",content:"SmsHelper_content__1Cl8v",block:"SmsHelper_block__2Wh7N",SmsBtn:"SmsHelper_SmsBtn__2klia",CompleteBtn:"SmsHelper_CompleteBtn__3kM9q"}},716:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return T});var a=n(33),s=n(14),c=n(15),i=n(22),o=n(20),l=n(21),r=n(0),u=n.n(r),p=n(580),m=n.n(p),d=n(116),f=n(590),g=n(57),h=n.n(g),k=n(585),b=n(607),_=n(112),v=n(574),C=n(575),E=(n(194),n(647)),S=n.n(E),y=!1,B="",w="",M="mac"===f.a.getQueryParams("from"),I=new k.a,H=d.a.BRIGE_CALLBACK_NAME_FOR_GET_REMAINING_TIME,T=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).goBack=function(){n.props.history.go(-1)},n.state={inMac:!1,vercodeBtnUseable:!0},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"postMessageToMac",value:function(e,t){try{M&&window.webkit.messageHandlers[e].postMessage(t)}catch(n){console.log(n)}}},{key:"remainingTimeCallback",value:function(e){console.log(e),I.startTimer({count:e,stepCallback:function(e){console.log(e)}})}},{key:"componentDidMount",value:function(){w=m.a.get("registrationSpeechAccount"),this.setState({inMac:M}),Object(b.a)(H,this.remainingTimeCallback),this.postMessageToMac("remainingTime",{callback:H})}},{key:"closeCurPage",value:function(){this.props.history.go(-1)}},{key:"getSpeechVerCode",value:function(){var e=this,t=this;if(w)if(y)this.goBack();else{y=!0;var n,s;s=B?{sessionId:B,recipient:w,voiceotp:""}:{recipient:w,voiceotp:""},n=f.a.getSignByParam(s),h.a.get(v.g,{params:Object(a.a)({sig:n},s)}).then(function(t){t&&t.data&&t&&t.data.success&&t.data.sessionId&&(B=t.data.sessionId,m.a.set("speechSessionId",t.data.sessionId,{expires:1/24/6}),e.postMessageToMac("sendCode",{sessionId:B,c:t.data.c||""}))}).catch(function(e){console.log(e)}).finally(function(){y=!1,t.goBack()})}else this.goBack()}},{key:"componentWillUnmount",value:function(){Object(b.b)(H,this.remainingTimeCallback)}},{key:"render",value:function(){return u.a.createElement("div",{className:S.a.smsHelper},u.a.createElement("div",{className:S.a.textWrapper},u.a.createElement("div",{className:S.a.title},_.q),u.a.createElement("ol",{className:S.a.content},u.a.createElement("li",{className:S.a.block},u.a.createElement("div",null,_.K)),u.a.createElement("li",null,u.a.createElement("div",null,_.Ib)))),u.a.createElement(C.a,{text:_.I,buttonWrapperClass:S.a.SmsBtn,onClick:this.getSpeechVerCode.bind(this)}),u.a.createElement(C.a,{text:_.t,buttonWrapperClass:S.a.CompleteBtn,onClick:this.goBack}))}}]),t}(r.Component)}}]);
//# sourceMappingURL=SmsHelper.430b7e85.chunk.js.map