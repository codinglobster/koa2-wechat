(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{597:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return s}),n.d(t,"g",function(){return p});var a="otp.too.often.error",i="otp.limit.reached.error",r="validation.mask.valueDoesNotMatch",o="password.too.weak",c="validation.required.valueNotPresent",u="otp.intergrity.check",s="registration.invalid.virtual.phone.number",p="registrationAction.email.invalid"},611:function(e,t,n){"use strict";var a=n(33),i=n(14),r=n(15),o=n(21),c=n(20),u=n(114),s=n(22),p=n(0),d=n.n(p),l=n(57),v=n(724),m=n(576),f=n(130),h=n(113),b=n(148),T=n(573),g=n(597),C=n(581),k=n(585),_=(n(276),n(111)),y=n(628),V=n.n(y),O=new k.a,S=b.d.DEFAULT,I=b.d.ERROR,j=b.c.VERCODE,x=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={vercode:"",tipLevel:S,verifyTip:"",countTime:0,requesting:!1},n.onFocus=n.onFocus.bind(Object(u.a)(n)),n.onChange=n.onChange.bind(Object(u.a)(n)),n.getVercode=n.getVercode.bind(Object(u.a)(n)),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.vercodeTimeRemain,n=e.verifyTip,a=e.tipLevel,i=e.inputType,r=e.vercodeTimeRemain;i===j&&this.setState({verifyTip:n,tipLevel:a}),0!==r&&0===t&&(O.startTimer({count:r,stepCallback:this.updateCountTime.bind(this),timeOverCallback:this.updateParentCountState.bind(this,!1)}),this.updateParentCountState(!0))}},{key:"componentWillUnmount",value:function(){O.stopTimer()}},{key:"onFocus",value:function(){this.setState({tipLevel:S,verifyTip:""})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({vercode:t})}},{key:"getVercode",value:function(){var e=this,t=this.props,n=t.verify,i=t.updateSmsSessionId,r=t.getVercodeHooks,o="",c="";this.setState({requesting:!0}),n().then(function(e){var t={recipient:e.account,textotp:""},n=Object(_.a)(t);return Object(l.get)(T.g,{params:Object(a.a)({sig:n},t)})}).then(function(t){var n=Object(v.a)(t,"data.sessionId"),a=Object(v.a)(t,"data.errors[0].code"),r=Object(v.a)(t,"data.c");if(alert(r||a),n)i(n),O.startTimer({stepCallback:e.updateCountTime.bind(e),timeOverCallback:e.updateParentCountState.bind(e,!1)}),e.updateParentCountState(!0),c=S;else if(a){switch(a){case g.e:o=h.gb,O.startTimer({stepCallback:e.updateCountTime.bind(e),timeOverCallback:e.updateParentCountState.bind(e,!1)}),e.updateParentCountState(!0);break;case g.d:o=h.fb;break;default:o=h.s}c=I}else c=S}).catch(function(e){c=S,console.log(e)}).finally(function(){e.setState({verifyTip:o,tipLevel:c,requesting:!1}),r()})}},{key:"updateParentCountState",value:function(e){(0,this.props.updateCountState)(e)}},{key:"updateCountTime",value:function(e){var t=this.props.onVercodeTimeChange;this.setState({countTime:e}),t(e)}},{key:"verifyInput",value:function(){var e,t=this,n=this.state.vercode,a="",i="";return n?C.c.test(n)?(i=S,e=Promise.resolve(n)):(a=h.V,i=I,e=Promise.reject(new Error(a))):(a=h.D,i=I,e=Promise.reject(new Error(a))),e.finally(function(){t.setState({verifyTip:a,tipLevel:i})})}},{key:"render",value:function(){var e=this.state,t=e.tipLevel,n=e.verifyTip,a=e.countTime,i=e.requesting,r=e.vercode,o=this.props,c=o.customTip,u=o.onBlur,s=0===a;return d.a.createElement("div",{className:V.a.vercodeInput},d.a.createElement("div",{className:V.a.inputWrapper},d.a.createElement(m.a,{tipLevel:t,placeHolder:h.S,onFocus:this.onFocus,value:r,onChange:this.onChange,useDefaultTip:!c,onBlur:u},n)),d.a.createElement("div",{className:V.a.textWrapper},d.a.createElement("span",{className:"".concat(V.a.text," ").concat(V.a.normalText," ").concat(!i&&s?"":V.a.hide),onClick:this.getVercode},h.H),d.a.createElement("span",{className:"".concat(V.a.text," ").concat(V.a.countingText," ").concat(i||s?V.a.hide:"")},"".concat(a).concat(h.rb)),d.a.createElement("div",{className:"".concat(V.a.loadingIconWrapper," ").concat(i?"":V.a.hide)},d.a.createElement(f.a,null))))}}]),t}(p.Component);x.defaultProps={vercodeTimeRemain:0,getVercodeHooks:function(){},onVercodeTimeChange:function(){},onBlur:function(){}},t.a=x},628:function(e,t,n){e.exports={vercodeInput:"VercodeInput_vercodeInput__uQqTi",inputWrapper:"VercodeInput_inputWrapper__2iwBK",textWrapper:"VercodeInput_textWrapper__2zZxd",text:"VercodeInput_text__KMoVD",normalText:"VercodeInput_normalText__7wikc",countingText:"VercodeInput_countingText__1sqVf",hide:"VercodeInput_hide__hvosD",loadingIconWrapper:"VercodeInput_loadingIconWrapper__9W1zk"}}}]);
//# sourceMappingURL=4.dce675ec.chunk.js.map