{"version":3,"sources":["account/components/LoadingIcon/index.js","account/config/interfaceParam.js","account/utils/signatureUtils.js","account/components/LoadingIcon/index.module.scss","account/components/ComponentLoading/index.module.scss","account/config/urlBaseInfo.js","account/countly/index.js","account/wx/index.js","account/assets/wechat_icon@2x.png","account/utils/routeUtils.js","account/components/ComponentLoading/index.js","account/config/routeMap.js","account/AppRouter.js","account/App.js","account/store/states.js","account/store/reducer.js","account/store/store.js","account/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_index_module_scss__WEBPACK_IMPORTED_MODULE_1__","_index_module_scss__WEBPACK_IMPORTED_MODULE_1___default","LoadingIcon","a","createElement","className","styles","loadingRing","EXTRACTED_DOMAIN","indexOf","getSignatureByParam","param","sortedParamArray","sortListByKey","array","key","length","lArr","rArr","midValue","forEach","item","push","concat","object","loopList","Object","assign","keyPath","_loop","obj","pop","keys","value","path","isObject","objectSpread","expandObjectToArray","paramString","reduce","preValue","_ref","_preValue","toLowerCase","md5","processParam","reqAuth","consumerKey","consumerSecret","deviceId","deviceDesc","window","navigator","userAgent","nonce","Math","ceil","random","extendedParam","signature","credential","Base64","encode","module","exports","loadingWrapper","extractApiHost","host","extractedApiHost","result","match","_Users_LiuXiao_workfiled_embedded_web_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","err","console","error","location","protocol","hostname","EXTRACTED_BASE_URL","CURRENT_BASE_URL","MARKETING_WEB_BASE_URL","INTERFACE_BASE_URL","APOLLO_INTERFACE_BASE_URL","replace","Countly","q","app_key","url","cly","document","type","async","src","onload","init","s","getElementsByTagName","parentNode","insertBefore","wx","ComponentLoading","_react_16_8_3_react_default","EmptyComponent","BindCreate","Loadable","loader","Promise","all","e","then","bind","loading","BindExisted","TwoFactorVerification","SmsHelper","NewFeature","TwoFactorHelper","ForgetPassword","UpdateSuccess","AccountInfo","ROUTE_MAP","title","component","children","routes","pathArray","split","filter","deep","targetDeep","iterator","route","find","getRouteByPath","AppRouter","Switch","map","Route","Redirect","to","REACT_APP_BASENAME","process","App","HashRouter","basename","account_AppRouter","states","wechatSessionId","twoFactorInfo","twoFactorEnabled","twoFactorHint","twoFactorToken","fromWechatLogin","bindLoginInfo","account","password","bindRegistrationInfo","vercodeTimeRemain","vercodeTimeStopTimeStamp","wechatForceBindSwitch","reducer","newState","state","arguments","undefined","action","payload","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","domain","axios","defaults","withCredentials","interceptors","request","use","config","_config","cloneDeep","needSignature","method","params","data","log","reject","ReactDOM","render","es","account_App","getElementById"],"mappings":"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","file":"static/js/account.2c8a9644.chunk.js","sourcesContent":["import React from 'react';\n\nimport styles from './index.module.scss';\n\nconst LoadingIcon = () => (\n  <div className={styles.loadingRing}>\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default LoadingIcon;\n","import { EXTRACTED_DOMAIN } from './urlBaseInfo';\n\nconst CLIENT = 'en-web';\nconst CHANNEL_ID =\n  EXTRACTED_DOMAIN.indexOf('app.yinxiang.com') > -1\n    ? 'gh_e85ebd6bb957'\n    : 'gh_df17ffa055a7';\nconst CLIENT_ID = 'en-web';\nconst DEVICE_ID = 'en-web';\nconst CONSUMER_KEY = 'en-web';\nconst CONSUMER_SECRET = '';\n\nexport {\n  CLIENT,\n  CHANNEL_ID,\n  CLIENT_ID,\n  DEVICE_ID,\n  CONSUMER_KEY,\n  CONSUMER_SECRET,\n};\n","import md5 from 'js-md5';\nimport { Base64 } from 'js-base64';\nimport { isObject } from 'lodash-es';\nimport {\n  CONSUMER_KEY,\n  CONSUMER_SECRET,\n  DEVICE_ID,\n} from '../config/interfaceParam';\n\nconst expandObjectToArray = object => {\n  const array = [];\n  const extendedObject = Object.assign(object, {\n    keyPath: '',\n  });\n  const loopList = [extendedObject];\n  while (loopList.length > 0) {\n    const obj = loopList.pop();\n    const { keyPath } = obj;\n    delete obj.keyPath;\n    Object.keys(obj).forEach(key => {\n      const value = obj[key];\n      const path = keyPath ? `${keyPath}.${key}` : key;\n      if (isObject(value)) {\n        loopList.push({\n          keyPath: path,\n          ...value,\n        });\n      } else {\n        array.push({\n          keyPath: path,\n          value,\n        });\n      }\n    });\n  }\n  return array;\n};\n\nconst sortListByKey = (array, key) => {\n  const { length } = array;\n  if (length < 2) {\n    return array;\n  }\n  const lArr = [];\n  const rArr = [];\n  const midValue = array[0];\n  array.forEach(item => {\n    if (item[key] < midValue[key]) {\n      lArr.push(item);\n    } else if (item[key] > midValue[key]) {\n      rArr.push(item);\n    }\n  });\n  return sortListByKey(lArr, key)\n    .concat([midValue])\n    .concat(sortListByKey(rArr, key));\n};\n\nconst transformListToString = list => {\n  return list.reduce((preValue, { keyPath, value }) => {\n    let _preValue = preValue;\n    _preValue += `${keyPath.toLowerCase()}=${value}`;\n    return _preValue;\n  }, '');\n};\n\nconst getSignatureByParam = param => {\n  const paramArray = expandObjectToArray(param);\n  const sortedParamArray = sortListByKey(paramArray, 'keyPath');\n  const paramString = transformListToString(sortedParamArray);\n  return md5(paramString);\n};\n\nconst processParam = param => {\n  const {\n    navigator: { userAgent },\n  } = window;\n  const reqAuth = {\n    consumerKey: CONSUMER_KEY,\n    consumerSecret: CONSUMER_SECRET,\n    deviceId: DEVICE_ID,\n    deviceDesc: userAgent,\n    nonce: Math.ceil(Math.random() * 999999),\n  };\n  const extendedParam = Object.assign(param, { reqAuth });\n  const signature = getSignatureByParam(extendedParam);\n  const credential = Base64.encode(`${CONSUMER_KEY}:${CONSUMER_SECRET}`);\n  Object.assign(extendedParam.reqAuth, { signature });\n  Object.assign(extendedParam.reqAuth, { credential });\n  delete extendedParam.reqAuth.consumerKey;\n  delete extendedParam.reqAuth.consumerSecret;\n  return extendedParam;\n};\n\nexport { getSignatureByParam, processParam };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingRing\":\"LoadingIcon_loadingRing__d8xIF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingWrapper\":\"ComponentLoading_loadingWrapper__3uTUH\"};","function extractApiHost(host) {\n  const REG = /^(static\\.)?(.+)/;\n  let extractedApiHost;\n  try {\n    const result = host.match(REG);\n    [, , extractedApiHost] = result;\n  } catch (err) {\n    console.error(err); // eslint-disable-line\n  }\n  return extractedApiHost;\n}\n\nconst { protocol, hostname } = window.location;\nconst IS_DEV = process.env.NODE_ENV === 'development';\nconst DEFAULT_PRODUCTION_API_HOST = 'app.yinxiang.com';\nconst DEV_PAGE_URL_ORIGIN = 'https://stage-5.yinxiang.com';\nconst DEV_STATIC_PAGE_URL_ORIGIN = 'https://static.stage-5.yinxiang.com';\nconst EXTRACTED_BASE_URL = `${\n  IS_DEV\n    ? DEV_PAGE_URL_ORIGIN\n    : `${protocol}//${extractApiHost(hostname) || DEFAULT_PRODUCTION_API_HOST}`\n}`; // 当前页面去掉 static 的 baseurl 如果是 dev 环境下那就手动指定一个\nconst CURRENT_BASE_URL = `${\n  IS_DEV ? DEV_STATIC_PAGE_URL_ORIGIN : `${protocol}//${hostname}`\n}`; // 当前页面的 baseurl 如果是 dev 环境下 同样手动指定\nconst MARKETING_WEB_BASE_URL = `${protocol}//www.yinxiang.com`; // marketing 页面的 baseurl\nconst INTERFACE_BASE_URL = `${IS_DEV ? '' : `${EXTRACTED_BASE_URL}`}`; // 接口的 baseurl\nconst APOLLO_INTERFACE_BASE_URL = `${\n  IS_DEV ? '' : EXTRACTED_BASE_URL.replace('//', '//config.')\n}`; // apollo 接口的 baseurl\nconst EXTRACTED_DOMAIN = `${\n  IS_DEV ? '' : extractApiHost(hostname) || DEFAULT_PRODUCTION_API_HOST\n}`; // 纯 domain 不带协议头\n\nexport {\n  protocol,\n  hostname,\n  EXTRACTED_BASE_URL,\n  MARKETING_WEB_BASE_URL,\n  CURRENT_BASE_URL,\n  INTERFACE_BASE_URL,\n  EXTRACTED_DOMAIN,\n  APOLLO_INTERFACE_BASE_URL,\n};\n","// Some default pre init\nwindow.Countly = window.Countly || {};\nvar Countly = window.Countly;\nCountly.q = Countly.q || [];\n\n// Provide your app key that you retrieved from Countly dashboard\nCountly.app_key = \"052a4bffcc207e2b64a79a8f2637d1ed82a32237\";\n\n// Provide your server IP or name. Use try.count.ly or us-try.count.ly \n// or asia-try.count.ly for EE trial server.\n// If you use your own server, make sure you have https enabled if you use\n// https below.\nCountly.url = \"https://analytics.yinxiang.com\"; \n\n// Start pushing function calls to queue\n// Track sessions automatically (recommended)\nCountly.q.push(['track_sessions']);\n  \n//track web page views automatically (recommended)\nCountly.q.push(['track_pageview']);\n  \n// Uncomment the following line to track web heatmaps (Enterprise Edition)\n// Countly.q.push(['track_clicks']);\n\n// Uncomment the following line to track web scrollmaps (Enterprise Edition)\n// Countly.q.push(['track_scrolls']);\n  \n// Load Countly script asynchronously\n(function() {\n\tvar cly = document.createElement('script'); cly.type = 'text/javascript'; \n\tcly.async = true;\n\t// Enter url of script here (see below for other option)\n\tcly.src = 'https://cdn.jsdelivr.net/npm/countly-sdk-web@latest/lib/countly.min.js';\n\tcly.onload = function(){Countly.init()};\n\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(cly, s);\n})();","(function() {\n\tvar wx = document.createElement('script'); wx.type = 'text/javascript'; \n\twx.async = true;\n\t// Enter url of script here (see below for other option)\n\twx.src = 'http://res.wx.qq.com/open/js/jweixin-1.4.0.js';\n\t// wx.onload = function(){Countly.init()};\n\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wx, s);\n})();","module.exports = \"data:image/png;base64,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\"","import ROUTE_MAP from '../config/routeMap';\n// todo 需添加一些容错处理\n\n/**\n *\n * @param path\n * @return {{path: string, component: *, children: *[]}[]}\n */\nconst getRouteByPath = path => {\n  const pathArray = path.split('/').filter(item => !!item);\n  if (pathArray.length === 0) {\n    return ROUTE_MAP;\n  }\n  let deep = 0;\n  let result;\n  const targetDeep = pathArray.length;\n  const loopList = [ROUTE_MAP];\n  const iterator = item => item.path === pathArray[deep];\n\n  while (loopList.length > 0) {\n    const routes = loopList.pop();\n    const route = routes.find(iterator);\n    if (!route) {\n      result = false;\n      break;\n    }\n    deep += 1;\n    if (deep === targetDeep) {\n      result = route;\n      break;\n    }\n    const { children } = route;\n    if (!children) {\n      result = false;\n      break;\n    }\n    loopList.push(children);\n  }\n  return result;\n};\n\nconst getSubRoutesByPath = path => {\n  if (path === '/') {\n    return ROUTE_MAP;\n  }\n  return getRouteByPath(path).children;\n};\n\nexport { getRouteByPath, getSubRoutesByPath };\n","import React from 'react';\nimport LoadingIcon from '../LoadingIcon';\n\nimport styles from './index.module.scss';\n\nconst ComponentLoading = () => {\n  return (\n    <div className={styles.loadingWrapper}>\n      <LoadingIcon />\n    </div>\n  );\n};\n\nexport default ComponentLoading;\n","import React from 'react';\nimport Loadable from 'react-loadable';\nimport ComponentLoading from '../components/ComponentLoading';\n\nconst EmptyComponent = () => {\n  return <div />;\n};\n\nconst BindCreate = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"BindCreate\" */ '../routeComponents/BindCreate'),\n  loading: ComponentLoading,\n});\nconst BindExisted = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"BindExisted\" */ '../routeComponents/BindExisted'),\n  loading: ComponentLoading,\n});\n\nconst TwoFactorVerification = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"TwoFactorVerification\" */ '../routeComponents/TwoFactorVerification'),\n  loading: EmptyComponent,\n});\n\nconst SmsHelper = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"SmsHelper\" */ '../routeComponents/SmsHelper'),\n  loading: EmptyComponent,\n});\n\nconst NewFeature = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"NewFeature\" */ '../routeComponents/NewFeature'),\n  loading: EmptyComponent,\n});\n\nconst TwoFactorHelper = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"TwoFactorHelper\" */ '../routeComponents/TwoFactorHelper'),\n  loading: EmptyComponent,\n});\n\nconst ForgetPassword = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"ForgetPassword\" */ '../routeComponents/ForgetPassword'),\n  loading: EmptyComponent,\n});\nconst UpdateSuccess = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"UpdateSuccess\" */ '../routeComponents/UpdateSuccess'),\n  loading: EmptyComponent,\n});\nconst AccountInfo = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"AccountInfo\" */ '../routeComponents/AccountInfo'),\n  loading: EmptyComponent,\n});\nconst ServiceList = Loadable({\n  loader: () =>\n    import(/* webpackChunkName: \"ServiceList\" */ '../routeComponents/ServiceList'),\n  loading: EmptyComponent,\n});\n\nconst ROUTE_MAP = [\n  {\n    path: 'service-list',\n    title: '应用程序授权',\n    component: ServiceList,\n    children: null,\n  },\n  {\n    path: 'account-info',\n    title: '提示',\n    component: AccountInfo,\n    children: null,\n  },\n  {\n    path: 'update-success',\n    title: '提示',\n    component: UpdateSuccess,\n    children: null,\n  },\n  {\n    path: 'twofactor-verification',\n    title: '还差一步，绑定印象笔记',\n    component: TwoFactorVerification,\n    children: null,\n  },\n  {\n    path: 'forget-password',\n    title: '重置密码',\n    component: ForgetPassword,\n    children: null,\n  },\n  {\n    path: 'twofactor-helper',\n    title: '',\n    component: TwoFactorHelper,\n    children: null,\n  },\n  {\n    path: 'new-feature',\n    title: '还差一步，绑定印象笔记',\n    component: NewFeature,\n    children: null,\n  },\n  {\n    path: 'sms-helper',\n    title: '',\n    component: SmsHelper,\n    children: null,\n  },\n  {\n    path: 'bind-existed',\n    title: '绑定已有帐户',\n    component: BindExisted,\n    children: null,\n  },\n  {\n    path: 'bind-create',\n    title: '创建新帐户',\n    component: BindCreate,\n    children: [\n      \n    ],\n  },\n];\n\nexport default ROUTE_MAP;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { getSubRoutesByPath } from './utils/routeUtils';\n\nconst routes = getSubRoutesByPath('/');\n\nconst AppRouter = () => {\n  return (\n    <Switch>\n      {routes.map(item => (\n        <Route\n          path={`/${item.path}`}\n          component={item.component}\n          key={item.path}\n        />\n      ))}\n      <Redirect to={`/${routes[0].path}`} />\n    </Switch>\n  );\n};\n\nexport default AppRouter;\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport AppRouter from './AppRouter';\n\nimport styles from './App.module.scss';\n\nconst { REACT_APP_BASENAME } = process.env;\n\nconst App = () => {\n  return (\n    <HashRouter basename={REACT_APP_BASENAME || ''}>\n      <div className={styles.App}>\n        <AppRouter />\n      </div>\n    </HashRouter>\n  );\n};\n\nexport default App;\n","export default {\n  wechatSessionId: '',\n  twoFactorInfo: {\n    twoFactorEnabled: false,\n    twoFactorHint: '',\n    twoFactorToken: '',\n    fromWechatLogin: false,\n  },\n  bindLoginInfo: {\n    account: '',\n    password: '',\n  },\n  bindRegistrationInfo: {\n    account: '',\n    password: '',\n    vercodeTimeRemain: 0, // 验证码倒计时剩余时间\n    vercodeTimeStopTimeStamp: 0, // 记录验证码暂停时的时间戳\n  },\n  wechatForceBindSwitch: '0',\n};\n","import states from './states';\n\nconst reducer = (state = states, action) => {\n  const { type, payload } = action;\n  let newState;\n  switch (type) {\n    case 'setWechatSessionId':\n      newState = Object.assign({}, state, { wechatSessionId: payload });\n      break;\n    case 'setTwofactorInfo':\n      newState = Object.assign({}, state, { twoFactorInfo: payload });\n      break;\n    case 'saveBindLoginInfo':\n      newState = Object.assign({}, state, { bindLoginInfo: payload });\n      break;\n    case 'saveBindRegistrationInfo':\n      newState = Object.assign({}, state, { bindRegistrationInfo: payload });\n      break;\n    case 'saveWechatForceBindSwitch':\n      newState = Object.assign({}, state, { wechatForceBindSwitch: payload });\n      break;\n    default:\n      newState = state;\n  }\n  return newState;\n};\n\nexport default reducer;\n","import { createStore } from 'redux';\nimport reducer from './reducer';\n\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n); // 第二个参数是react-redux-dev-tools 需要的配置\n\nexport default store;\n","import '@babel/polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\nimport { cloneDeep } from 'lodash-es';\nimport App from './App';\nimport './countly/index';\nimport './wx/index';\n// import * as serviceWorker from './serviceWorker';\nimport store from './store/store';\nimport { processParam } from './utils/signatureUtils';\nimport { EXTRACTED_DOMAIN } from './config/urlBaseInfo';\n\nimport 'normalize.css'; // global css reset from npm\nimport './index.scss';\nimport './assets/wechat_icon@2x.png'; // 为了 webpack 在打包时把微信图标也一起打包,暂时需要额外手动引入\n\nif (EXTRACTED_DOMAIN) {\n  document.domain = EXTRACTED_DOMAIN;\n}\n\n// axios 请求全局配置\naxios.defaults.withCredentials = true;\n// 请求拦截器 用于给所有需要签名的接口加签名\naxios.interceptors.request.use(\n  config => {\n    const _config = cloneDeep(config);\n    const { needSignature, method, params, data } = _config;\n    if (needSignature) {\n      if (method === 'post') {\n        _config.data = processParam(data);\n      } else if (method === 'get') {\n        _config.params = processParam(params);\n      }\n    }\n    return _config;\n  },\n  error => {\n    console.log(error); // eslint-disable-line\n    return Promise.reject(error);\n  },\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// serviceWorker.register();\n// todo 引入 SW\n// todo 使用 prefetch/preload 加载路由组件\n"],"sourceRoot":""}